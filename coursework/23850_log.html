<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Does terrorism lead to populism?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="log_files/libs/clipboard/clipboard.min.js"></script>
<script src="log_files/libs/quarto-html/quarto.js"></script>
<script src="log_files/libs/quarto-html/popper.min.js"></script>
<script src="log_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="log_files/libs/quarto-html/anchor.min.js"></script>
<link href="log_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="log_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="log_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="log_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="log_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Does terrorism lead to populism?</h1>
<p class="subtitle lead">GV482 Coursework log</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Candidate Number: 23850 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date"></p><div class="line-block">06/05/2024</div><p></p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div style="page-break-after: always;"></div>
<section id="setup" class="level1">
<h1>Setup</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Start time:"</span>, <span class="fu">format</span>(start_time, <span class="st">"%d/%m/%Y %H:%M:%S"</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Start time: 06/05/2024 13:02:16 </code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>need <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'tidyverse'</span>,<span class="st">'modelsummary'</span>,<span class="st">'haven'</span>,<span class="st">'fixest'</span>,<span class="st">'kableExtra'</span>,<span class="st">"TAM"</span>,<span class="st">"car"</span>) <span class="co"># list packages needed</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>have <span class="ot">&lt;-</span> need <span class="sc">%in%</span> <span class="fu">rownames</span>(<span class="fu">installed.packages</span>()) <span class="co"># checks packages you have</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">any</span>(<span class="sc">!</span>have)) <span class="fu">install.packages</span>(need[<span class="sc">!</span>have]) <span class="co"># install missing packages</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">invisible</span>(<span class="fu">lapply</span>(need, library, <span class="at">character.only=</span>T))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cleaned/data.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>── Attaching core tidyverse packages ─────────────────────────────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.0     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ───────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package to force all conflicts to become errors
Registered S3 methods overwritten by 'htmltools':
  method               from         
  print.html           tools:rstudio
  print.shiny.tag      tools:rstudio
  print.shiny.tag.list tools:rstudio
Registered S3 method overwritten by 'data.table':
  method           from
  print.data.table     
Registered S3 method overwritten by 'htmlwidgets':
  method           from         
  print.htmlwidget tools:rstudio

Attaching package: ‘kableExtra’

The following object is masked from ‘package:dplyr’:

    group_rows

Loading required package: CDM
Loading required package: mvtnorm
**********************************
** CDM 8.2-6 (2022-08-25 15:43:23)       
** Cognitive Diagnostic Models  **
**********************************

* TAM 4.1-4 (2022-08-28 16:03:54)
Loading required package: carData

Attaching package: ‘car’

The following object is masked from ‘package:CDM’:

    deltaMethod

The following object is masked from ‘package:dplyr’:

    recode

The following object is masked from ‘package:purrr’:

    some
</code></pre>
</section>
<section id="date-cleaning" class="level1">
<h1>Date Cleaning</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"PopulismTerrorism.dta"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as_factor</span>(data)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># clean population data</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span> <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span> <span class="fu">distinct</span>(Year, <span class="at">.keep_all=</span>T) <span class="sc">|&gt;</span> <span class="co">#remove elections in the same year</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span>    </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country,Year, populationY1,populationY2,populationY3)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#min(data$Year) #1980</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">#max(data$Year) #2020</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">complete</span>(<span class="at">Year =</span> <span class="fu">seq</span>(<span class="dv">1977</span>, <span class="dv">2020</span>))</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Country) <span class="sc">|&gt;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">populationY2 =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(populationY2,<span class="dv">1</span>),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>         <span class="at">populationY3 =</span> dplyr<span class="sc">::</span><span class="fu">lead</span>(populationY3,<span class="dv">2</span>))</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">population =</span> <span class="fu">coalesce</span>(populationY1, populationY2, populationY3)) <span class="sc">|&gt;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(population,<span class="at">.after=</span>Year)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>pop_external <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"23850_additionaldatabase1.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Rows: 1922 Columns: 3
── Column specification ───────────────────────────────────────────────────────────────────────────────
Delimiter: ","
chr (1): Code
dbl (2): Year, population

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>country_code_map <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">AT =</span> <span class="st">"AUT"</span>, <span class="at">BE =</span> <span class="st">"BEL"</span>, <span class="at">BG =</span> <span class="st">"BUL"</span>, <span class="at">HR =</span> <span class="st">"CRO"</span>, <span class="at">CY =</span> <span class="st">"CYP"</span>, <span class="at">CZ =</span> <span class="st">"CZE"</span>, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">DK =</span> <span class="st">"DEN"</span>, <span class="at">ES =</span> <span class="st">"ESP"</span>, <span class="at">EE =</span> <span class="st">"EST"</span>, <span class="at">FI =</span> <span class="st">"FIN"</span>, <span class="at">FR =</span> <span class="st">"FRA"</span>, <span class="at">DE_TOT =</span> <span class="st">"GER"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">EL =</span> <span class="st">"GRE"</span>, <span class="at">HU =</span> <span class="st">"HUN"</span>, <span class="at">IS =</span> <span class="st">"ICE"</span>, <span class="at">IE =</span> <span class="st">"IRE"</span>, <span class="at">IT =</span> <span class="st">"ITA"</span>, <span class="at">LV =</span> <span class="st">"LAT"</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">LT =</span> <span class="st">"LIT"</span>, <span class="at">LU =</span> <span class="st">"LUX"</span>, <span class="at">MT =</span> <span class="st">"MAL"</span>, <span class="at">ME =</span> <span class="st">"MNE"</span>, <span class="at">NL =</span> <span class="st">"NET"</span>, <span class="at">NO =</span> <span class="st">"NOR"</span>, </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">PL =</span> <span class="st">"POL"</span>, <span class="at">PT =</span> <span class="st">"POR"</span>, <span class="at">RO =</span> <span class="st">"ROM"</span>, <span class="at">RS =</span> <span class="st">"SER"</span>, <span class="at">SK =</span> <span class="st">"SLK"</span>, <span class="at">SI =</span> <span class="st">"SLN"</span>, </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">SE =</span> <span class="st">"SWE"</span>, <span class="at">CH =</span> <span class="st">"SWI"</span>, <span class="at">UK =</span> <span class="st">"UK"</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>pop_data<span class="sc">$</span>Code <span class="ot">&lt;-</span> <span class="fu">names</span>(country_code_map)[<span class="fu">match</span>(pop_data<span class="sc">$</span>Country, country_code_map)]</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span> <span class="fu">select</span>(Country,Code,Year,population)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>pop_external <span class="ot">&lt;-</span> pop_external <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="at">population_external=</span>population)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(pop_data, pop_external, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"Code"</span>,<span class="st">"Year"</span>))</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>discrepancy <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span> <span class="fu">filter</span>(population <span class="sc">!=</span> population_external)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(pop_external, discrepancy, country_code_map)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">population=</span><span class="fu">coalesce</span>(population, population_external)) <span class="sc">|&gt;</span> </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(population_external,Code))</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">population=</span><span class="fu">replace_na</span>(population,<span class="dv">0</span>))</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(pop_data, <span class="st">"cleaned/pop_data.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">"PopulismTerrorism.dta"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">as_factor</span>(data)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#merge by population</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"cleaned/pop_data.RDS"</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#check missing population</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data<span class="sc">$</span>populationY1)) <span class="co">#3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 3</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data<span class="sc">$</span>populationY2)) <span class="co">#3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 3</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data<span class="sc">$</span>populationY3)) <span class="co">#6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 6</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> pop_data <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">populationY1=</span>population, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">populationY2=</span>dplyr<span class="sc">::</span><span class="fu">lag</span>(population,<span class="dv">1</span>), </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">populationY3=</span>dplyr<span class="sc">::</span><span class="fu">lag</span>(population,<span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>population)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data, pop_data, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"Country"</span>,<span class="st">"Year"</span>),</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">suffix=</span><span class="fu">c</span>(<span class="st">""</span>,<span class="st">".y"</span>))</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">populationY1 =</span> <span class="fu">coalesce</span>(populationY1, populationY1.y),</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">populationY2 =</span> <span class="fu">coalesce</span>(populationY2, populationY2.y),</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">populationY3 =</span> <span class="fu">coalesce</span>(populationY3, populationY3.y)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(populationY1.y, populationY2.y, populationY3.y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>PopulistTotal <span class="ot">&lt;-</span> data<span class="sc">$</span>PopulistLeft<span class="sc">+</span>data<span class="sc">$</span>PopulistRight</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#create vector of country names</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>countries <span class="ot">&lt;-</span> <span class="fu">unique</span>(data<span class="sc">$</span>Country)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#create casualty variables</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  data[[<span class="fu">paste0</span>(<span class="st">"HomencasY"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"HomenkillY"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"HomenwoundY"</span>,l)]]</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (c <span class="cf">in</span> countries){</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"ncas"</span>,c,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"nkill"</span>,c,<span class="st">"Y"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"nwound"</span>,c,<span class="st">"Y"</span>,l)]]</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  data[[<span class="fu">paste0</span>(<span class="st">"Homencas_leftY"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"Homenkill_leftY"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"Homenwound_leftY"</span>,l)]]</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  data[[<span class="fu">paste0</span>(<span class="st">"Homencas_rightY"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"Homenkill_rightY"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"Homenwound_rightY"</span>,l)]]</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  data[[<span class="fu">paste0</span>(<span class="st">"Homencas_IslClY"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"Homenkill_IslClY"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"Homenwound_IslClY"</span>,l)]]</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (c <span class="cf">in</span> countries) {</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"ncas_left"</span>,c,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"nkill_left"</span>,c,<span class="st">"Y"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"nwound_left"</span>,c,<span class="st">"Y"</span>,l)]]</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"ncas_right"</span>,c,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"nkill_right"</span>,c,<span class="st">"Y"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"nwound_right"</span>,c,<span class="st">"Y"</span>,l)]]</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"ncas_IslCl"</span>,c,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> data[[<span class="fu">paste0</span>(<span class="st">"nkill_IslCl"</span>,c,<span class="st">"Y"</span>,l)]]<span class="sc">+</span>data[[<span class="fu">paste0</span>(<span class="st">"nwound_IslCl"</span>,c,<span class="st">"Y"</span>,l)]]</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HomeAttackspopY1 =</span> HomeAttacksY1 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomeAttackspopY2 =</span> HomeAttacksY2 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomeAttackspopY3 =</span> HomeAttacksY3 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomeAttackspopY4 =</span> HomeAttacksY4 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomencaspopY1    =</span> HomencasY1 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomencaspopY2    =</span> HomencasY2 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomencaspopY3    =</span> HomencasY3 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">HomencaspopY4    =</span> HomencasY4 <span class="sc">*</span> <span class="dv">1000000</span> <span class="sc">/</span> populationY1,</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create a function for calculating the weighted sum</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"cleaned/pop_data.RDS"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>geo_index <span class="ot">&lt;-</span> <span class="cf">function</span>(row, prefix, l) {</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  country <span class="ot">&lt;-</span> row[[<span class="st">'Country'</span>]]</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  year <span class="ot">&lt;-</span> row[[<span class="st">'Year'</span>]] <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>()</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (c <span class="cf">in</span> <span class="fu">setdiff</span>(countries, country)){</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    pop <span class="ot">&lt;-</span> pop_data<span class="sc">$</span>population[pop_data<span class="sc">$</span>Country<span class="sc">==</span>c <span class="sc">&amp;</span> pop_data<span class="sc">$</span>Year<span class="sc">==</span>(year<span class="sc">-</span>l<span class="sc">+</span><span class="dv">1</span>)]<span class="sc">/</span><span class="dv">1000000</span> </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>          <span class="co">#find foreign pop</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(pop<span class="sc">!=</span><span class="dv">0</span>){</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    index <span class="ot">&lt;-</span> index <span class="sc">+</span> <span class="fu">as.numeric</span>(row[[<span class="fu">paste0</span>(<span class="st">"Border"</span>,c)]]) <span class="sc">*</span> </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(row[[<span class="fu">paste0</span>(prefix,c,<span class="st">"Y"</span>,l)]])<span class="sc">/</span>pop</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(index)</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign attacks</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoAttacksY1 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">1</span>)) </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoAttacksY2 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">2</span>))</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoAttacksY3 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">3</span>)) </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoAttacksY4 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">4</span>))</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign proxy attacks</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (prefix <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"leftproxy"</span>,<span class="st">"rightproxy"</span>,<span class="st">"IslClaim"</span>)){</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"geo"</span>,prefix,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, prefix, l))</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign casualties</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoncasY1 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">1</span>))</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoncasY2 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">2</span>))</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoncasY3 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">3</span>))</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>geoncasY4 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">4</span>))</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign proxy casualties</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (prefix <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"ncas_left"</span>,<span class="st">"ncas_right"</span>,<span class="st">"ncas_IslCl"</span>)){</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"geo"</span>,prefix,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">geo_index</span>(x, prefix, l))</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create a function for calculating the weighted sum</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>cul_index <span class="ot">&lt;-</span> <span class="cf">function</span>(row, prefix, l) {</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  country <span class="ot">&lt;-</span> row[[<span class="st">'Country'</span>]]</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  year <span class="ot">&lt;-</span> row[[<span class="st">'Year'</span>]] <span class="sc">|&gt;</span> <span class="fu">as.numeric</span>()</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (c <span class="cf">in</span> <span class="fu">setdiff</span>(countries, country)){</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    pop <span class="ot">&lt;-</span> pop_data<span class="sc">$</span>population[pop_data<span class="sc">$</span>Country<span class="sc">==</span>c <span class="sc">&amp;</span> pop_data<span class="sc">$</span>Year<span class="sc">==</span>(year<span class="sc">-</span>l<span class="sc">+</span><span class="dv">1</span>)]<span class="sc">/</span><span class="dv">1000000</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#find foreign pop</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(pop<span class="sc">!=</span><span class="dv">0</span>){</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    index <span class="ot">&lt;-</span> index <span class="sc">+</span> <span class="fu">as.numeric</span>(row[[<span class="fu">paste0</span>(<span class="st">"percent_culturalsimilarity"</span>,c)]]) <span class="sc">*</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(row[[<span class="fu">paste0</span>(prefix,c,<span class="st">"Y"</span>,l)]])<span class="sc">/</span>pop</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(index)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign attacks  </span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culAttacksY1 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">1</span>)) </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culAttacksY2 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">2</span>))</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culAttacksY3 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">3</span>)) </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culAttacksY4 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"Attacks"</span>, <span class="dv">4</span>))</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign proxy attacks</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (prefix <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"leftproxy"</span>,<span class="st">"rightproxy"</span>,<span class="st">"IslClaim"</span>)){</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"cul"</span>,prefix,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, prefix, l))</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign casualties</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culncasY1 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">1</span>))</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culncasY2 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">2</span>))</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culncasY3 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">3</span>))</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>culncasY4 <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, <span class="st">"ncas"</span>, <span class="dv">4</span>))</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="co">#foreign proxy casualties</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (l <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>){</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (prefix <span class="cf">in</span> <span class="fu">c</span>(<span class="st">"ncas_left"</span>,<span class="st">"ncas_right"</span>,<span class="st">"ncas_IslCl"</span>)){</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    data[[<span class="fu">paste0</span>(<span class="st">"cul"</span>,prefix,<span class="st">"Y"</span>,l)]] <span class="ot">&lt;-</span> <span class="fu">apply</span>(data, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">cul_index</span>(x, prefix, l))</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pop_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"cleaned/pop_data.RDS"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homeleftproxy =</span> (HomeleftproxyY1<span class="sc">+</span>HomeleftproxyY2<span class="sc">+</span>HomeleftproxyY3<span class="sc">+</span>HomeleftproxyY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homencas_left =</span> (Homencas_leftY1<span class="sc">+</span>Homencas_leftY2<span class="sc">+</span>Homencas_leftY3<span class="sc">+</span>Homencas_leftY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homerightproxy =</span> (HomerightproxyY1<span class="sc">+</span>HomerightproxyY2<span class="sc">+</span>HomerightproxyY3<span class="sc">+</span>HomerightproxyY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homencas_right =</span> (Homencas_rightY1<span class="sc">+</span>Homencas_rightY2<span class="sc">+</span>Homencas_rightY3<span class="sc">+</span>Homencas_rightY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">HomeIslClaim =</span> (HomeIslClaimY1<span class="sc">+</span>HomeIslClaimY2<span class="sc">+</span>HomeIslClaimY3<span class="sc">+</span>HomeIslClaimY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homencas_IslCl =</span> (Homencas_IslClY1<span class="sc">+</span>Homencas_IslClY2<span class="sc">+</span>Homencas_IslClY3<span class="sc">+</span>Homencas_IslClY4)<span class="sc">*</span><span class="dv">1000000</span><span class="sc">/</span>populationY1,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoleftproxy =</span> geoleftproxyY1<span class="sc">+</span>geoleftproxyY2<span class="sc">+</span>geoleftproxyY3<span class="sc">+</span>geoleftproxyY4,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoncas_left =</span> geoncas_leftY1<span class="sc">+</span>geoncas_leftY2<span class="sc">+</span>geoncas_leftY3<span class="sc">+</span>geoncas_leftY4,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">georightproxy =</span> georightproxyY1<span class="sc">+</span>georightproxyY2<span class="sc">+</span>georightproxyY3<span class="sc">+</span>georightproxyY4,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoncas_right =</span> geoncas_rightY1<span class="sc">+</span>geoncas_rightY2<span class="sc">+</span>geoncas_rightY3<span class="sc">+</span>geoncas_rightY4,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoIslClaim =</span> geoIslClaimY1<span class="sc">+</span>geoIslClaimY2<span class="sc">+</span>geoIslClaimY3<span class="sc">+</span>geoIslClaimY4,</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoncas_IslCl =</span> geoncas_IslClY1<span class="sc">+</span>geoncas_IslClY2<span class="sc">+</span>geoncas_IslClY3<span class="sc">+</span>geoncas_IslClY4,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">culleftproxy =</span> culleftproxyY1<span class="sc">+</span>culleftproxyY2<span class="sc">+</span>culleftproxyY3<span class="sc">+</span>culleftproxyY4,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">culncas_left =</span> culncas_leftY1<span class="sc">+</span>culncas_leftY2<span class="sc">+</span>culncas_leftY3<span class="sc">+</span>culncas_leftY4,</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">culrightproxy =</span> culrightproxyY1<span class="sc">+</span>culrightproxyY2<span class="sc">+</span>culrightproxyY3<span class="sc">+</span>culrightproxyY4,</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">culncas_right =</span> culncas_rightY1<span class="sc">+</span>culncas_rightY2<span class="sc">+</span>culncas_rightY3<span class="sc">+</span>culncas_rightY4,</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">culIslClaim =</span> culIslClaimY1<span class="sc">+</span>culIslClaimY2<span class="sc">+</span>culIslClaimY3<span class="sc">+</span>culIslClaimY4,</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">culncas_IslCl =</span> culncas_IslClY1<span class="sc">+</span>culncas_IslClY2<span class="sc">+</span>culncas_IslClY3<span class="sc">+</span>culncas_IslClY4)</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">HomeAttackspop =</span> HomeAttackspopY1<span class="sc">+</span>HomeAttackspopY2<span class="sc">+</span>HomeAttackspopY3<span class="sc">+</span>HomeAttackspopY4,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">Homencaspop =</span> HomencaspopY1<span class="sc">+</span>HomencaspopY2<span class="sc">+</span>HomencaspopY3<span class="sc">+</span>HomencaspopY4,</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoAttacks =</span> geoAttacksY1<span class="sc">+</span>geoAttacksY2<span class="sc">+</span>geoAttacksY3<span class="sc">+</span>geoAttacksY4,</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">geoncas =</span> geoncasY1<span class="sc">+</span>geoncasY2<span class="sc">+</span>geoncasY3<span class="sc">+</span>geoncasY4,</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">culAttacks =</span> culAttacksY1<span class="sc">+</span>culAttacksY2<span class="sc">+</span>culAttacksY3<span class="sc">+</span>culAttacksY4,</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">culncas =</span> culncasY1<span class="sc">+</span>culncasY2<span class="sc">+</span>culncasY3<span class="sc">+</span>culncasY4)</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(data, <span class="at">file =</span> <span class="st">"cleaned/data.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="descriptive-statistics" class="level1">
<h1>Descriptive Statistics</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cleaned/data.Rdata"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>data<span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Country=</span>forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Country),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">ystart =</span> <span class="fu">as.numeric</span>(Country) <span class="sc">-</span> <span class="fl">0.5</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">yend =</span> <span class="fu">as.numeric</span>(Country) <span class="sc">+</span> <span class="fl">0.5</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ElectionDate, <span class="at">y=</span>Country)) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> ystart, <span class="at">yend =</span> yend)) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">limits =</span> <span class="fu">levels</span>(forcats<span class="sc">::</span><span class="fu">fct_rev</span>(data<span class="sc">$</span>Country))) <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept=</span>ystart), <span class="at">alpha=</span><span class="fl">0.1</span>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Election Date"</span>) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(), <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-election" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-election-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-election-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-election-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Election date by country
</figcaption>
</figure>
</div>
</div>
</div>
<div id="tbl-summary" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Summary statistics of the populism dataset (unweighted)
</figcaption>
<div aria-describedby="tbl-summary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-summary"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-summary-1"><a href="#tbl-summary-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary</span>(PopulistLeft<span class="sc">+</span>PopulistRight<span class="sc">+</span>HomeAttacksY1<span class="sc">+</span>HomenkillY1<span class="sc">+</span>HomenwoundY1<span class="sc">+</span></span>
<span id="tbl-summary-2"><a href="#tbl-summary-2" aria-hidden="true" tabindex="-1"></a>              GrowthY1<span class="sc">+</span>UnemploymentY1<span class="sc">+</span>Export_penetrationY1<span class="sc">+</span>Import_penetrationY1<span class="sc">+</span></span>
<span id="tbl-summary-3"><a href="#tbl-summary-3" aria-hidden="true" tabindex="-1"></a>              Immigration_percentY1<span class="sc">+</span>Emigration_percentY1</span>
<span id="tbl-summary-4"><a href="#tbl-summary-4" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>N<span class="sc">+</span>Mean<span class="sc">+</span>SD<span class="sc">+</span>Min<span class="sc">+</span>(<span class="at">Q1=</span>P25)<span class="sc">+</span>Median<span class="sc">+</span>(<span class="at">Q3=</span>P75)<span class="sc">+</span>Max,</span>
<span id="tbl-summary-5"><a href="#tbl-summary-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span>data, <span class="at">output=</span><span class="st">"latex"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>Warning: To compile a LaTeX document with this table, the following commands must be placed in the document preamble:

\usepackage{booktabs}
\usepackage{siunitx}
\newcolumntype{d}{S[
    input-open-uncertainty=,
    input-close-uncertainty=,
    parse-numbers = false,
    table-align-text-pre=false,
    table-align-text-post=false
 ]}

To disable `siunitx` and prevent `modelsummary` from wrapping numeric entries in `\num{}`, call:

options("modelsummary_format_numeric_latex" = "plain")
 This warning appears once per session.
\begin{table}
\centering
\begin{tabular}[t]{lrrrrrrrr}
\toprule
  &amp; N &amp; Mean &amp; SD &amp; Min &amp; Q1 &amp; Median &amp; Q3 &amp; Max\\
\midrule
PopulistLeft &amp; 329 &amp; \num{6.41} &amp; \num{8.80} &amp; \num{0.00} &amp; \num{0.40} &amp; \num{2.40} &amp; \num{9.70} &amp; \num{44.88}\\
PopulistRight &amp; 329 &amp; \num{8.96} &amp; \num{11.20} &amp; \num{0.00} &amp; \num{0.50} &amp; \num{5.50} &amp; \num{13.60} &amp; \num{69.50}\\
HomeAttacksY1 &amp; 329 &amp; \num{11.10} &amp; \num{32.42} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{1.00} &amp; \num{4.00} &amp; \num{305.00}\\
HomenkillY1 &amp; 329 &amp; \num{3.38} &amp; \num{16.18} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{193.00}\\
HomenwoundY1 &amp; 329 &amp; \num{16.96} &amp; \num{109.47} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{2.00} &amp; \num{1825.00}\\
GrowthY1 &amp; 231 &amp; \num{6.25} &amp; \num{6.91} &amp; \num{-14.78} &amp; \num{2.65} &amp; \num{5.19} &amp; \num{8.43} &amp; \num{47.93}\\
UnemploymentY1 &amp; 238 &amp; \num{8.66} &amp; \num{4.67} &amp; \num{1.79} &amp; \num{5.23} &amp; \num{7.60} &amp; \num{10.62} &amp; \num{24.98}\\
Export\_penetrationY1 &amp; 154 &amp; \num{10.85} &amp; \num{5.61} &amp; \num{0.00} &amp; \num{7.24} &amp; \num{9.28} &amp; \num{14.06} &amp; \num{27.13}\\
Import\_penetrationY1 &amp; 154 &amp; \num{13.41} &amp; \num{6.61} &amp; \num{0.00} &amp; \num{8.99} &amp; \num{11.41} &amp; \num{17.12} &amp; \num{38.16}\\
Immigration\_percentY1 &amp; 208 &amp; \num{0.90} &amp; \num{0.82} &amp; \num{0.01} &amp; \num{0.34} &amp; \num{0.68} &amp; \num{1.21} &amp; \num{4.71}\\
Emigration\_percentY1 &amp; 206 &amp; \num{0.65} &amp; \num{0.50} &amp; \num{0.00} &amp; \num{0.29} &amp; \num{0.55} &amp; \num{0.87} &amp; \num{2.41}\\
\bottomrule
\end{tabular}
\end{table}</code></pre>
<div id="tbl-summary-weighted" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-summary-weighted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Summary statistics of the populism dataset (weighted)
</figcaption>
<div aria-describedby="tbl-summary-weighted-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-summary-weighted"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-summary-weighted-1"><a href="#tbl-summary-weighted-1" aria-hidden="true" tabindex="-1"></a>q1 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">weighted_quantile</span>(x, <span class="at">w=</span>data<span class="sc">$</span>weight)[[<span class="st">'25%'</span>]]</span>
<span id="tbl-summary-weighted-2"><a href="#tbl-summary-weighted-2" aria-hidden="true" tabindex="-1"></a>q3 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">weighted_quantile</span>(x, <span class="at">w=</span>data<span class="sc">$</span>weight)[[<span class="st">'75%'</span>]]</span>
<span id="tbl-summary-weighted-3"><a href="#tbl-summary-weighted-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary</span>(PopulistLeft<span class="sc">+</span>PopulistRight<span class="sc">+</span>HomeAttacksY1<span class="sc">+</span>HomenkillY1<span class="sc">+</span>HomenwoundY1<span class="sc">+</span></span>
<span id="tbl-summary-weighted-4"><a href="#tbl-summary-weighted-4" aria-hidden="true" tabindex="-1"></a>              GrowthY1<span class="sc">+</span>UnemploymentY1<span class="sc">+</span>Export_penetrationY1<span class="sc">+</span>Import_penetrationY1<span class="sc">+</span></span>
<span id="tbl-summary-weighted-5"><a href="#tbl-summary-weighted-5" aria-hidden="true" tabindex="-1"></a>              Immigration_percentY1<span class="sc">+</span>Emigration_percentY1</span>
<span id="tbl-summary-weighted-6"><a href="#tbl-summary-weighted-6" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>N<span class="sc">+</span>(<span class="at">Mean=</span>weighted_mean<span class="sc">*</span><span class="fu">Arguments</span>(<span class="at">w=</span>weight))<span class="sc">+</span></span>
<span id="tbl-summary-weighted-7"><a href="#tbl-summary-weighted-7" aria-hidden="true" tabindex="-1"></a>              (<span class="at">SD=</span>weighted_sd<span class="sc">*</span><span class="fu">Arguments</span>(<span class="at">w=</span>weight))<span class="sc">+</span></span>
<span id="tbl-summary-weighted-8"><a href="#tbl-summary-weighted-8" aria-hidden="true" tabindex="-1"></a>              Min<span class="sc">+</span>(<span class="at">Q1=</span>q1)<span class="sc">+</span>Median<span class="sc">+</span>(<span class="at">Q3=</span>q3)<span class="sc">+</span>Max,</span>
<span id="tbl-summary-weighted-9"><a href="#tbl-summary-weighted-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span>data, <span class="at">output=</span><span class="st">"latex"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\begin{tabular}[t]{lrrrrrrrr}
\toprule
  &amp; N &amp; Mean &amp; SD &amp; Min &amp; Q1 &amp; Median &amp; Q3 &amp; Max\\
\midrule
PopulistLeft &amp; 329 &amp; \num{7.00} &amp; \num{8.19} &amp; \num{0.00} &amp; \num{0.40} &amp; \num{2.40} &amp; \num{10.36} &amp; \num{44.88}\\
PopulistRight &amp; 329 &amp; \num{8.87} &amp; \num{11.17} &amp; \num{0.00} &amp; \num{1.00} &amp; \num{5.50} &amp; \num{12.95} &amp; \num{69.50}\\
HomeAttacksY1 &amp; 329 &amp; \num{31.17} &amp; \num{55.08} &amp; \num{0.00} &amp; \num{1.00} &amp; \num{1.00} &amp; \num{34.00} &amp; \num{305.00}\\
HomenkillY1 &amp; 329 &amp; \num{9.59} &amp; \num{26.66} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{6.00} &amp; \num{193.00}\\
HomenwoundY1 &amp; 329 &amp; \num{49.58} &amp; \num{166.32} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{19.46} &amp; \num{1825.00}\\
GrowthY1 &amp; 231 &amp; \num{6.05} &amp; \num{6.30} &amp; \num{-14.78} &amp; \num{2.28} &amp; \num{5.19} &amp; \num{7.71} &amp; \num{47.93}\\
UnemploymentY1 &amp; 238 &amp; \num{9.20} &amp; \num{4.28} &amp; \num{1.79} &amp; \num{6.70} &amp; \num{7.60} &amp; \num{10.67} &amp; \num{24.98}\\
Export\_penetrationY1 &amp; 154 &amp; \num{9.23} &amp; \num{3.96} &amp; \num{0.00} &amp; \num{7.10} &amp; \num{9.28} &amp; \num{9.99} &amp; \num{27.13}\\
Import\_penetrationY1 &amp; 154 &amp; \num{11.77} &amp; \num{5.64} &amp; \num{0.00} &amp; \num{8.31} &amp; \num{11.41} &amp; \num{12.06} &amp; \num{38.16}\\
Immigration\_percentY1 &amp; 208 &amp; \num{0.64} &amp; \num{0.48} &amp; \num{0.01} &amp; \num{0.29} &amp; \num{0.68} &amp; \num{0.91} &amp; \num{4.71}\\
Emigration\_percentY1 &amp; 206 &amp; \num{0.44} &amp; \num{0.34} &amp; \num{0.00} &amp; \num{0.12} &amp; \num{0.55} &amp; \num{0.63} &amp; \num{2.41}\\
\bottomrule
\end{tabular}
\end{table}</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">PopulistLeft =</span> <span class="fu">weighted.mean</span>(PopulistLeft, weight), </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">PopulistR =</span> <span class="fu">weighted.mean</span>(PopulistRight, weight)) <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(PopulistLeft, PopulistR), <span class="at">names_to =</span> <span class="st">"Populist"</span>, <span class="at">values_to =</span> <span class="st">"Mean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Mean<span class="sc">/</span><span class="dv">100</span>, <span class="at">fill =</span> Populist)) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">geom_area</span>() <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Populism"</span>, <span class="at">labels =</span>  <span class="fu">c</span>(<span class="st">"Left"</span>, <span class="st">"Right"</span>))<span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Election Year"</span>, <span class="at">y =</span> <span class="st">"Weighted mean vote share</span><span class="sc">\n</span><span class="st">for populist parties"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-populism" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-populism-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-populism-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-populism-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Weighted mean vote share of populist parties in elections over time
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">HomenkillY1 =</span> <span class="fu">sum</span>(HomenkillY1), <span class="at">HomenwoundY1 =</span> <span class="fu">sum</span>(HomenwoundY1), <span class="at">HomeAttacksY1=</span><span class="fu">sum</span>(HomeAttacksY1)) <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(HomenkillY1, HomenwoundY1), <span class="at">names_to =</span> <span class="st">"Attack"</span>, <span class="at">values_to =</span> <span class="st">"Mean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Mean, <span class="at">fill =</span> Attack)) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">geom_area</span>() <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> HomeAttacksY1<span class="sc">*</span><span class="dv">5</span>, <span class="at">color=</span><span class="st">"Attacks"</span>)) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Casualty (Left)"</span>, <span class="at">labels =</span>  <span class="fu">c</span>(<span class="st">"Killed"</span>, <span class="st">"Wounded"</span>))<span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">""</span>, <span class="at">values =</span> <span class="st">"black"</span>, <span class="at">labels =</span> <span class="st">"Attacks (Right)"</span>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Election Year"</span>, <span class="at">y =</span> <span class="st">"Number of terrorist attack casualties,</span><span class="sc">\n</span><span class="st">within 1 year prior to election"</span>) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>( <span class="co"># plot the attacks in a different axis from the casualties</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span> . <span class="sc">/</span> <span class="dv">5</span>, <span class="at">name =</span> <span class="st">"Number of terrorist attacks</span><span class="sc">\n</span><span class="st">within 1 year prior to election"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-terrorism" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-terrorism-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-terrorism-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-terrorism-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Number of terrorist attacks and casualties thereof 1 year prior to elections over time
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="main-analysis" class="level1">
<h1>Main Analysis</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cleaned/data.RData"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistTotal~"</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>homeattacks <span class="ot">&lt;-</span> <span class="st">"HomeAttackspop"</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>homecasualty <span class="ot">&lt;-</span> <span class="st">"Homencaspop"</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>geoattacks <span class="ot">&lt;-</span> <span class="st">"+geoAttacks"</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>geocasualty <span class="ot">&lt;-</span> <span class="st">"+geoncas"</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>culattacks <span class="ot">&lt;-</span> <span class="st">"+culAttacks"</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>culcasualty <span class="ot">&lt;-</span> <span class="st">"+culncas"</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co">#attacks</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>reg_collapsed_attack_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>reg_collapsed_attack_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>reg_collapsed_attack_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,geoattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>reg_collapsed_attack_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,culattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#casualties</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>reg_collapsed_casualty_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>reg_collapsed_casualty_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>reg_collapsed_casualty_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,geocasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>reg_collapsed_casualty_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,culcasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>twfe_collapsed <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_collapsed_attack_none, reg_collapsed_attack_control, </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                   reg_collapsed_attack_geo, reg_collapsed_attack_cul,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                   reg_collapsed_casualty_none, reg_collapsed_casualty_control,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                   reg_collapsed_casualty_geo, reg_collapsed_casualty_cul)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>glance_custom.fixest <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"controls"</span> <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="st">"GrowthY1"</span> <span class="sc">%in%</span> <span class="fu">names</span>(<span class="fu">coef</span>(x)),<span class="st">"Yes"</span>,<span class="st">"No"</span>),</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'weighted'</span><span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CountryFE'</span> <span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearFE'</span> <span class="ot">=</span> <span class="st">"Yes"</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>gof_map <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"controls"</span>, <span class="at">clean=</span><span class="st">"Controls"</span>, <span class="at">fmt=</span><span class="cn">NULL</span>),</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"weighted"</span>, <span class="at">clean=</span><span class="st">"Weighted"</span>, <span class="at">fmt=</span><span class="cn">NULL</span>),</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"nobs"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Obs"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">0</span>),</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"adj.r.squared"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$R^2$ Adj."</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">3</span>),</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"r2.within.adjusted"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$R^2$ Within Adj."</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">3</span>),</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"CountryFE"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Country FE"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="cn">NULL</span>),</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"YearFE"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Year FE"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="cn">NULL</span>))</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"HomeAttackspop"</span><span class="ot">=</span><span class="st">"HomeTerrorism"</span>,</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencaspop"</span><span class="ot">=</span><span class="st">"HomeTerrorism"</span>,</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoAttacks"</span><span class="ot">=</span><span class="st">"ForeignTerrorism"</span>,</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas"</span><span class="ot">=</span><span class="st">"ForeignTerrorism"</span>,</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culAttacks"</span><span class="ot">=</span><span class="st">"ForeignTerrorism"</span>,</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas"</span><span class="ot">=</span><span class="st">"ForeignTerrorism"</span>)</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>twfe_collapsed_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_collapsed, <span class="at">escape=</span>F,</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>                       <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options=</span><span class="st">"scale_down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">2</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span>,</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">2</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span>),</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>                   <span class="at">escape=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"Total Attacks per Million Population"</span><span class="ot">=</span><span class="dv">4</span>,<span class="st">"Total Casualties per Million Population"</span><span class="ot">=</span><span class="dv">4</span>))</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_collapsed_table, <span class="at">file=</span><span class="st">"output/twfe_collapsed.RData"</span>) <span class="co">#save for quarto</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_collapsed, <span class="at">file=</span><span class="st">"output/twfe_collapsed_reg.RData"</span>) <span class="co">#save for quarto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"cleaned/data.RData"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistTotal~"</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>homeattacks <span class="ot">&lt;-</span> <span class="st">"HomeAttackspopY1+HomeAttackspopY2+HomeAttackspopY3+HomeAttackspopY4"</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>homecasualty <span class="ot">&lt;-</span> <span class="st">"HomencaspopY1+HomencaspopY2+HomencaspopY3+HomencaspopY4"</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>geoattacks <span class="ot">&lt;-</span> <span class="st">"+geoAttacksY1+geoAttacksY2+geoAttacksY3+geoAttacksY4"</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>geocasualty <span class="ot">&lt;-</span> <span class="st">"+geoncasY1+geoncasY2+geoncasY3+geoncasY4"</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>culattacks <span class="ot">&lt;-</span> <span class="st">"+culAttacksY1+culAttacksY2+culAttacksY3+culAttacksY4"</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>culcasualty <span class="ot">&lt;-</span> <span class="st">"+culncasY1+culncasY2+culncasY3+culncasY4"</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a><span class="co">#attacks</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>reg_total_attack_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>reg_total_attack_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>reg_total_attack_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,geoattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>reg_total_attack_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,culattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#casualties</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,geocasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,culcasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>twfe_total <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_total_attack_none, reg_total_attack_control, </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>                   reg_total_attack_geo, reg_total_attack_cul,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                   reg_total_casualty_none, reg_total_casualty_control,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                   reg_total_casualty_geo, reg_total_casualty_cul)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_total)){</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  twfe_total[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_total[[i]])</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]])))]</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  twfe_total[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]])))]</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>    twfe_total[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>)))</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>gen_stars <span class="ot">&lt;-</span> <span class="cf">function</span>(p){</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (p<span class="sc">&lt;</span><span class="fl">0.001</span>){</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"***"</span>)</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (p<span class="sc">&lt;</span><span class="fl">0.01</span>){</span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"**"</span>)</span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (p<span class="sc">&lt;</span><span class="fl">0.05</span>){</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"*"</span>)</span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (p<span class="sc">&lt;</span><span class="fl">0.1</span>){</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"+"</span>)</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">""</span>)</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>glance_custom.fixest <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"controls"</span> <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="st">"GrowthY1"</span> <span class="sc">%in%</span> <span class="fu">names</span>(<span class="fu">coef</span>(x)),</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"Yes"</span>,<span class="st">"No"</span>),</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'weighted'</span><span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CountryFE'</span> <span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearFE'</span> <span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">'HomeF'</span> <span class="ot">=</span> <span class="fu">paste0</span>(<span class="fu">round</span>(x<span class="sc">$</span>homeF[<span class="dv">2</span>,<span class="dv">3</span>],<span class="dv">2</span>),<span class="fu">gen_stars</span>(x<span class="sc">$</span>homeF[<span class="dv">2</span>,<span class="dv">4</span>]),</span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>                     <span class="st">" ["</span>,x<span class="sc">$</span>homeF[<span class="dv">2</span>,<span class="dv">2</span>],<span class="st">","</span>,x<span class="sc">$</span>homeF[<span class="dv">2</span>,<span class="dv">1</span>],<span class="st">"]"</span>),</span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ForeignF"</span> <span class="ot">=</span> <span class="cf">if</span>(<span class="sc">!</span><span class="st">"foreignF"</span> <span class="sc">%in%</span> <span class="fu">names</span>(x)){</span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">""</span></span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="fu">round</span>(x<span class="sc">$</span>foreignF[<span class="dv">2</span>,<span class="dv">3</span>],<span class="dv">2</span>),<span class="fu">gen_stars</span>(x<span class="sc">$</span>foreignF[<span class="dv">2</span>,<span class="dv">4</span>]),</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a>             <span class="st">" ["</span>,x<span class="sc">$</span>foreignF[<span class="dv">2</span>,<span class="dv">2</span>],<span class="st">","</span>,x<span class="sc">$</span>foreignF[<span class="dv">2</span>,<span class="dv">1</span>],<span class="st">"]"</span>)</span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-49"><a href="#cb51-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-50"><a href="#cb51-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-51"><a href="#cb51-51" aria-hidden="true" tabindex="-1"></a>gof_map <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"controls"</span>, <span class="at">clean=</span><span class="st">"Controls"</span>, <span class="at">fmt=</span><span class="cn">NULL</span>),</span>
<span id="cb51-52"><a href="#cb51-52" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"weighted"</span>, <span class="at">clean=</span><span class="st">"Weighted"</span>, <span class="at">fmt=</span><span class="cn">NULL</span>),</span>
<span id="cb51-53"><a href="#cb51-53" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"HomeF"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$F_{home}$"</span>, <span class="st">"fmt"</span><span class="ot">=</span><span class="cn">NULL</span>),</span>
<span id="cb51-54"><a href="#cb51-54" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"ForeignF"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$F_{foreign}$"</span>, <span class="st">"fmt"</span><span class="ot">=</span><span class="cn">NULL</span>),</span>
<span id="cb51-55"><a href="#cb51-55" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"nobs"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Obs"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">0</span>),</span>
<span id="cb51-56"><a href="#cb51-56" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"adj.r.squared"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$R^2$ Adj."</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">3</span>),</span>
<span id="cb51-57"><a href="#cb51-57" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span> <span class="ot">=</span> <span class="st">"r2.within.adjusted"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"$R^2$ Within Adj."</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="dv">3</span>),</span>
<span id="cb51-58"><a href="#cb51-58" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"CountryFE"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Country FE"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="cn">NULL</span>),</span>
<span id="cb51-59"><a href="#cb51-59" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">"raw"</span><span class="ot">=</span><span class="st">"YearFE"</span>, <span class="st">"clean"</span> <span class="ot">=</span> <span class="st">"Year FE"</span>, <span class="st">"fmt"</span> <span class="ot">=</span> <span class="cn">NULL</span>))</span>
<span id="cb51-60"><a href="#cb51-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-61"><a href="#cb51-61" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"HomeAttackspopY1"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-62"><a href="#cb51-62" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeAttackspopY2"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-63"><a href="#cb51-63" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeAttackspopY3"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-64"><a href="#cb51-64" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeAttackspopY4"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-65"><a href="#cb51-65" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomencaspopY1"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-66"><a href="#cb51-66" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomencaspopY2"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-67"><a href="#cb51-67" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomencaspopY3"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-68"><a href="#cb51-68" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomencaspopY4"</span><span class="ot">=</span><span class="st">"HomeTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-69"><a href="#cb51-69" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoAttacksY1"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-70"><a href="#cb51-70" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoAttacksY2"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-71"><a href="#cb51-71" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoAttacksY3"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-72"><a href="#cb51-72" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoAttacksY4"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-73"><a href="#cb51-73" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncasY1"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-74"><a href="#cb51-74" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncasY2"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-75"><a href="#cb51-75" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncasY3"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-76"><a href="#cb51-76" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncasY4"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-77"><a href="#cb51-77" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culAttacksY1"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-78"><a href="#cb51-78" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culAttacksY2"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-79"><a href="#cb51-79" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culAttacksY3"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-80"><a href="#cb51-80" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culAttacksY4"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-81"><a href="#cb51-81" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncasY1"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-1}$"</span>,</span>
<span id="cb51-82"><a href="#cb51-82" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncasY2"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-2}$"</span>,</span>
<span id="cb51-83"><a href="#cb51-83" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncasY3"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-3}$"</span>,</span>
<span id="cb51-84"><a href="#cb51-84" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncasY4"</span><span class="ot">=</span><span class="st">"ForeignTerrorism$_{t-4}$"</span>,</span>
<span id="cb51-85"><a href="#cb51-85" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeC"</span> <span class="ot">=</span> <span class="st">"HomeTerrorism"</span>,</span>
<span id="cb51-86"><a href="#cb51-86" aria-hidden="true" tabindex="-1"></a>              <span class="st">"ForeinC"</span> <span class="ot">=</span> <span class="st">"ForeignTerrorism"</span>)</span>
<span id="cb51-87"><a href="#cb51-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-88"><a href="#cb51-88" aria-hidden="true" tabindex="-1"></a>twfe_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_total, <span class="at">escape=</span>F,</span>
<span id="cb51-89"><a href="#cb51-89" aria-hidden="true" tabindex="-1"></a>                       <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb51-90"><a href="#cb51-90" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb51-91"><a href="#cb51-91" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb51-92"><a href="#cb51-92" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb51-93"><a href="#cb51-93" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb51-94"><a href="#cb51-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> F) <span class="sc">|&gt;</span></span>
<span id="cb51-95"><a href="#cb51-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">2</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span>,</span>
<span id="cb51-96"><a href="#cb51-96" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">2</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span>),</span>
<span id="cb51-97"><a href="#cb51-97" aria-hidden="true" tabindex="-1"></a>                   <span class="at">escape=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb51-98"><a href="#cb51-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"Total Attacks per Million Population"</span><span class="ot">=</span><span class="dv">4</span>,<span class="st">"Total Casualties per Million Population"</span><span class="ot">=</span><span class="dv">4</span>))</span>
<span id="cb51-99"><a href="#cb51-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-100"><a href="#cb51-100" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_total, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb51-101"><a href="#cb51-101" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_table, <span class="at">file=</span><span class="st">"output/twfe_main.RData"</span>) <span class="co">#save for quarto</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"output/twfe_main.RData"</span>) <span class="co">#main results</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"output/twfe_collapsed_reg.RData"</span>) <span class="co">#collapsed results</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>col3_main <span class="ot">&lt;-</span> <span class="fu">get_estimates</span>(twfe_total[[<span class="dv">3</span>]])</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>col7_collapsed <span class="ot">&lt;-</span> <span class="fu">get_estimates</span>(twfe_collapsed[[<span class="dv">7</span>]])</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>col8_main <span class="ot">&lt;-</span> <span class="fu">get_estimates</span>(twfe_total[[<span class="dv">8</span>]])</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>data_complete <span class="ot">&lt;-</span> data[twfe_total[[<span class="dv">2</span>]][[<span class="st">"obs_selection"</span>]][[<span class="st">"obsRemoved"</span>]],]</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>(sd_geoAttacksY1 <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>geoAttacksY1, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.361625</code></pre>
</div>
</div>
<pre><code>[1] 1.361625</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>(sd_PopulistTotal <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>PopulistTotal, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 16.37609</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(sd_geoncas <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>geoncas, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 8.881413</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">get_estimates</span>(twfe_total[[<span class="dv">3</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>)],</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">get_estimates</span>(twfe_collapsed[[<span class="dv">3</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>)])</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> results[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">5</span><span class="sc">:</span><span class="dv">8</span>,<span class="dv">10</span>),] <span class="co">#change order</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>results<span class="sc">$</span>region <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Home"</span>,<span class="dv">5</span>),<span class="fu">rep</span>(<span class="st">"Foreign (neighbouring)"</span>,<span class="dv">5</span>))</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>results<span class="sc">$</span>time <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">:-</span><span class="dv">4</span>,<span class="dv">0</span>)</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">significant=</span>(conf.low<span class="sc">&gt;</span><span class="dv">0</span><span class="sc">|</span>conf.high<span class="sc">&lt;</span><span class="dv">0</span>),</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>                             <span class="at">region=</span><span class="fu">factor</span>(region, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Home"</span>,<span class="st">"Foreign (neighbouring)"</span>)))</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(results, <span class="fu">aes</span>(<span class="at">x=</span>time, <span class="at">y=</span>estimate, <span class="at">color=</span>region, <span class="at">shape=</span>significant)) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>)<span class="sc">+</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">linetype=</span><span class="st">"solid"</span>)<span class="sc">+</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">3</span>),</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">size=</span><span class="dv">2</span>,<span class="at">show.legend=</span>F) <span class="sc">+</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>conf.low,<span class="at">ymax=</span>conf.high), <span class="at">width=</span>.<span class="dv">2</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">position =</span> <span class="fu">position_dodge</span>(.<span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Year(s) relative to Election"</span>,<span class="at">y=</span><span class="st">"Effect Estimate"</span>,<span class="at">color=</span><span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(<span class="fu">c</span>(results<span class="sc">$</span>time))),</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="cf">function</span>(x) <span class="fu">ifelse</span>(x <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Aggregated"</span>, <span class="fu">as.character</span>(x))</span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-twfe" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-twfe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-twfe-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-twfe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Effect of Terrorist attacks before elections on populist vote shares.
</figcaption>
</figure>
</div>
</div>
</div>
<div id="tbl-collapsed" class="cell quarto-float anchored" data-tbl-pos="h">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-collapsed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Main TWFE regression results. (Dep Var: Total populist vote share)
</figcaption>
<div aria-describedby="tbl-collapsed-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-collapsed" data-tbl-pos="h"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-collapsed-1"><a href="#tbl-collapsed-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"output/twfe_collapsed.RData"</span>)</span>
<span id="tbl-collapsed-2"><a href="#tbl-collapsed-2" aria-hidden="true" tabindex="-1"></a>twfe_collapsed_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\begin{tabular}[t]{lrrrrrrrr}
\toprule
  &amp; N &amp; Mean &amp; SD &amp; Min &amp; Q1 &amp; Median &amp; Q3 &amp; Max\\
\midrule
PopulistLeft &amp; 329 &amp; \num{7.00} &amp; \num{8.19} &amp; \num{0.00} &amp; \num{0.40} &amp; \num{2.40} &amp; \num{10.36} &amp; \num{44.88}\\
PopulistRight &amp; 329 &amp; \num{8.87} &amp; \num{11.17} &amp; \num{0.00} &amp; \num{1.00} &amp; \num{5.50} &amp; \num{12.95} &amp; \num{69.50}\\
HomeAttacksY1 &amp; 329 &amp; \num{31.17} &amp; \num{55.08} &amp; \num{0.00} &amp; \num{1.00} &amp; \num{1.00} &amp; \num{34.00} &amp; \num{305.00}\\
HomenkillY1 &amp; 329 &amp; \num{9.59} &amp; \num{26.66} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{6.00} &amp; \num{193.00}\\
HomenwoundY1 &amp; 329 &amp; \num{49.58} &amp; \num{166.32} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{0.00} &amp; \num{19.46} &amp; \num{1825.00}\\
GrowthY1 &amp; 231 &amp; \num{6.05} &amp; \num{6.30} &amp; \num{-14.78} &amp; \num{2.28} &amp; \num{5.19} &amp; \num{7.71} &amp; \num{47.93}\\
UnemploymentY1 &amp; 238 &amp; \num{9.20} &amp; \num{4.28} &amp; \num{1.79} &amp; \num{6.70} &amp; \num{7.60} &amp; \num{10.67} &amp; \num{24.98}\\
Export\_penetrationY1 &amp; 154 &amp; \num{9.23} &amp; \num{3.96} &amp; \num{0.00} &amp; \num{7.10} &amp; \num{9.28} &amp; \num{9.99} &amp; \num{27.13}\\
Import\_penetrationY1 &amp; 154 &amp; \num{11.77} &amp; \num{5.64} &amp; \num{0.00} &amp; \num{8.31} &amp; \num{11.41} &amp; \num{12.06} &amp; \num{38.16}\\
Immigration\_percentY1 &amp; 208 &amp; \num{0.64} &amp; \num{0.48} &amp; \num{0.01} &amp; \num{0.29} &amp; \num{0.68} &amp; \num{0.91} &amp; \num{4.71}\\
Emigration\_percentY1 &amp; 206 &amp; \num{0.44} &amp; \num{0.34} &amp; \num{0.00} &amp; \num{0.12} &amp; \num{0.55} &amp; \num{0.63} &amp; \num{2.41}\\
\bottomrule
\end{tabular}
\end{table}
&gt; #| eval: true
&gt; #| message: false
&gt; #| warning: false
&gt; #| error: false
&gt; need &lt;- c('tidyverse','modelsummary','haven','fixest','kableExtra',"TAM","car") # list packages needed
&gt; have &lt;- need %in% rownames(installed.packages()) # checks packages you have
&gt; if(any(!have)) install.packages(need[!have]) # install missing packages
&gt; invisible(lapply(need, library, character.only=T))
&gt; #| label: tbl-collapsed
&gt; #| tbl-cap: "Main TWFE regression results. (Dep Var: Total populist vote share)"
&gt; #| tbl-pos: h
&gt; load("output/twfe_collapsed.RData")
&gt; twfe_collapsed_table
&gt; twfe_collapsed_table
\begin{table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{lcccccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{4}{c}{Total Attacks per Million Population} &amp; \multicolumn{4}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-5} \cmidrule(l{3pt}r{3pt}){6-9}
\multicolumn{1}{c}{ } &amp; \multicolumn{2}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{2}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-7} \cmidrule(l{3pt}r{3pt}){8-8} \cmidrule(l{3pt}r{3pt}){9-9}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6) &amp; (7) &amp; (8)\\
\midrule
HomeTerrorism &amp; \num{0.731}+ &amp; \num{0.288} &amp; \num{0.366} &amp; \num{0.028} &amp; \num{0.002} &amp; \num{0.074} &amp; \num{0.040} &amp; \num{0.042}\\
 &amp; (\num{0.388}) &amp; (\num{0.492}) &amp; (\num{0.464}) &amp; (\num{0.468}) &amp; (\num{0.091}) &amp; (\num{0.118}) &amp; (\num{0.115}) &amp; (\num{0.130})\\
ForeignTerrorism &amp;  &amp;  &amp; \num{-0.348} &amp; \num{-0.333} &amp;  &amp;  &amp; \num{0.303}* &amp; \num{-0.073}\\
 &amp;  &amp;  &amp; (\num{0.307}) &amp; (\num{0.245}) &amp;  &amp;  &amp; (\num{0.118}) &amp; (\num{0.124})\\
\midrule
Controls &amp; No &amp; Yes &amp; Yes &amp; Yes &amp; No &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Obs &amp; \num{329} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{329} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.661} &amp; \num{0.845} &amp; \num{0.846} &amp; \num{0.844} &amp; \num{0.645} &amp; \num{0.845} &amp; \num{0.859} &amp; \num{0.843}\\
$R^2$ Within Adj. &amp; \num{0.040} &amp; \num{-0.003} &amp; \num{0.001} &amp; \num{-0.008} &amp; \num{-0.004} &amp; \num{-0.002} &amp; \num{0.083} &amp; \num{-0.016}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{9}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{9}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}}
\end{table}</code></pre>
<div id="tbl-twfe" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: Main TWFE regression results (year-disaggregated). (Dep Var: Total populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-1"><a href="#tbl-twfe-1" aria-hidden="true" tabindex="-1"></a>twfe_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\begin{tabular}[t]{lcccccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{4}{c}{Total Attacks per Million Population} &amp; \multicolumn{4}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-5} \cmidrule(l{3pt}r{3pt}){6-9}
\multicolumn{1}{c}{ } &amp; \multicolumn{2}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{2}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-7} \cmidrule(l{3pt}r{3pt}){8-8} \cmidrule(l{3pt}r{3pt}){9-9}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6) &amp; (7) &amp; (8)\\
\midrule
HomeTerrorism$_{t-1}$ &amp; \num{1.295} &amp; \num{-0.894} &amp; \num{-0.695} &amp; \num{-0.139} &amp; \num{-0.206}+ &amp; \num{-0.065} &amp; \num{-0.036} &amp; \num{0.023}\\
 &amp; (\num{1.407}) &amp; (\num{0.841}) &amp; (\num{1.211}) &amp; (\num{0.875}) &amp; (\num{0.105}) &amp; (\num{0.244}) &amp; (\num{0.258}) &amp; (\num{0.241})\\
HomeTerrorism$_{t-2}$ &amp; \num{-0.880} &amp; \num{-1.991} &amp; \num{-0.213} &amp; \num{-4.642}* &amp; \num{0.167} &amp; \num{0.539} &amp; \num{-1.854}* &amp; \num{1.094}\\
 &amp; (\num{1.601}) &amp; (\num{1.503}) &amp; (\num{1.866}) &amp; (\num{1.942}) &amp; (\num{0.232}) &amp; (\num{0.555}) &amp; (\num{0.770}) &amp; (\num{0.661})\\
HomeTerrorism$_{t-3}$ &amp; \num{1.168} &amp; \num{0.808} &amp; \num{2.008} &amp; \num{-0.871} &amp; \num{0.566} &amp; \num{1.408}+ &amp; \num{0.878} &amp; \num{1.008}\\
 &amp; (\num{1.160}) &amp; (\num{2.862}) &amp; (\num{1.994}) &amp; (\num{2.559}) &amp; (\num{0.482}) &amp; (\num{0.746}) &amp; (\num{0.733}) &amp; (\num{0.778})\\
HomeTerrorism$_{t-4}$ &amp; \num{1.210} &amp; \num{2.018} &amp; \num{0.144} &amp; \num{2.247} &amp; \num{-0.035} &amp; \num{-0.038} &amp; \num{-0.170} &amp; \num{-0.064}\\
 &amp; (\num{0.837}) &amp; (\num{2.025}) &amp; (\num{2.030}) &amp; (\num{1.784}) &amp; (\num{0.104}) &amp; (\num{0.209}) &amp; (\num{0.188}) &amp; (\num{0.175})\\
ForeignTerrorism$_{t-1}$ &amp;  &amp;  &amp; \num{8.755}*** &amp; \num{0.546} &amp;  &amp;  &amp; \num{0.100} &amp; \num{0.066}\\
 &amp;  &amp;  &amp; (\num{2.062}) &amp; (\num{0.734}) &amp;  &amp;  &amp; (\num{0.094}) &amp; (\num{0.210})\\
ForeignTerrorism$_{t-2}$ &amp;  &amp;  &amp; \num{-1.626} &amp; \num{-2.001}* &amp;  &amp;  &amp; \num{1.096}* &amp; \num{-0.031}\\
 &amp;  &amp;  &amp; (\num{3.024}) &amp; (\num{0.739}) &amp;  &amp;  &amp; (\num{0.399}) &amp; (\num{0.215})\\
ForeignTerrorism$_{t-3}$ &amp;  &amp;  &amp; \num{-5.984}* &amp; \num{-1.679}+ &amp;  &amp;  &amp; \num{0.660}+ &amp; \num{-0.574}**\\
 &amp;  &amp;  &amp; (\num{2.624}) &amp; (\num{0.971}) &amp;  &amp;  &amp; (\num{0.384}) &amp; (\num{0.172})\\
ForeignTerrorism$_{t-4}$ &amp;  &amp;  &amp; \num{1.517} &amp; \num{-0.688} &amp;  &amp;  &amp; \num{0.169} &amp; \num{0.208}\\
 &amp;  &amp;  &amp; (\num{1.785}) &amp; (\num{0.500}) &amp;  &amp;  &amp; (\num{0.168}) &amp; (\num{0.145})\\
\midrule
Controls &amp; No &amp; Yes &amp; Yes &amp; Yes &amp; No &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 1.33 [4,32] &amp; 2.55+ [4,26] &amp; 1.15 [4,26] &amp; 3.09* [4,26] &amp; 1.31 [4,32] &amp; 1.06 [4,26] &amp; 3* [4,26] &amp; 1.2 [4,26]\\
$F_{foreign}$ &amp;  &amp;  &amp; 6.2** [4,26] &amp; 2.74+ [4,26] &amp;  &amp;  &amp; 3.18* [4,26] &amp; 6.74*** [4,26]\\
Obs &amp; \num{329} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{329} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.659} &amp; \num{0.846} &amp; \num{0.868} &amp; \num{0.858} &amp; \num{0.647} &amp; \num{0.849} &amp; \num{0.866} &amp; \num{0.881}\\
$R^2$ Within Adj. &amp; \num{0.036} &amp; \num{0.001} &amp; \num{0.143} &amp; \num{0.079} &amp; \num{0.003} &amp; \num{0.021} &amp; \num{0.130} &amp; \num{0.231}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{9}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{9}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}
\end{table}</code></pre>
</section>
<section id="ideology-disaggregated-results" class="level1">
<h1>Ideology-disaggregated Results</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistTotal~"</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>homeattacks <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim"</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>reg_total_attack_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>reg_total_attack_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>geoattacks <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim"</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>reg_total_attack_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,geoattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>culattacks <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim"</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>reg_total_attack_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,culattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>homecasualty <span class="ot">&lt;-</span> <span class="st">"Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>geocasualty <span class="ot">&lt;-</span> <span class="st">"+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>culcasualty <span class="ot">&lt;-</span> <span class="st">"+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,geocasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>reg_total_casualty_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,culcasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>twfe_total <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_total_attack_control, </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>                   reg_total_attack_geo, reg_total_attack_cul,</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>                   reg_total_casualty_control,</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>                   reg_total_casualty_geo, reg_total_casualty_cul)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_total)){</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  twfe_total[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_total[[i]])</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]])))]</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>  twfe_total[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total[[i]])))]</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>    twfe_total[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb74-25"><a href="#cb74-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb74-26"><a href="#cb74-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb74-27"><a href="#cb74-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb74-28"><a href="#cb74-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb74-29"><a href="#cb74-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb74-30"><a href="#cb74-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb74-31"><a href="#cb74-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb74-32"><a href="#cb74-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb74-33"><a href="#cb74-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb74-34"><a href="#cb74-34" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb74-35"><a href="#cb74-35" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>)</span>
<span id="cb74-36"><a href="#cb74-36" aria-hidden="true" tabindex="-1"></a>twfe_total_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_total, <span class="at">escape=</span>F,</span>
<span id="cb74-37"><a href="#cb74-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb74-38"><a href="#cb74-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb74-39"><a href="#cb74-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb74-40"><a href="#cb74-40" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb74-41"><a href="#cb74-41" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb74-42"><a href="#cb74-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options=</span><span class="st">"scale_down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-43"><a href="#cb74-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>,</span>
<span id="cb74-44"><a href="#cb74-44" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb74-45"><a href="#cb74-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"Total Attacks per Million Population"</span><span class="ot">=</span><span class="dv">3</span>,<span class="st">"Total Casualties per Million Population"</span><span class="ot">=</span><span class="dv">3</span>), <span class="at">escape=</span>F)</span>
<span id="cb74-46"><a href="#cb74-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-47"><a href="#cb74-47" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_total, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb74-48"><a href="#cb74-48" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_total_table, <span class="at">file=</span><span class="st">"twfe_total.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistRight~"</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>homeattacks <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim"</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>reg_right_attack_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>reg_right_attack_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>geoattacks <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim"</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>reg_right_attack_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,geoattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>culattacks <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim"</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>reg_right_attack_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,culattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>homecasualty <span class="ot">&lt;-</span> <span class="st">"Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>geocasualty <span class="ot">&lt;-</span> <span class="st">"+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>culcasualty <span class="ot">&lt;-</span> <span class="st">"+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>reg_right_casualty_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>reg_right_casualty_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>reg_right_casualty_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,geocasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>reg_right_casualty_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,culcasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>twfe_right <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_right_attack_control, </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>                   reg_right_attack_geo, reg_right_attack_cul,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>                   reg_right_casualty_control,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                   reg_right_casualty_geo, reg_right_casualty_cul)</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_right)){</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  twfe_right[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_right[[i]])</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_right[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_right[[i]])))]</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  twfe_right[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_right[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_right[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_right[[i]])))]</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>    twfe_right[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_right[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb87-23"><a href="#cb87-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb87-24"><a href="#cb87-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb87-25"><a href="#cb87-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb87-26"><a href="#cb87-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb87-27"><a href="#cb87-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb87-28"><a href="#cb87-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb87-29"><a href="#cb87-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb87-30"><a href="#cb87-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb87-31"><a href="#cb87-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb87-32"><a href="#cb87-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb87-33"><a href="#cb87-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb87-34"><a href="#cb87-34" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb87-35"><a href="#cb87-35" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>)</span>
<span id="cb87-36"><a href="#cb87-36" aria-hidden="true" tabindex="-1"></a>twfe_right_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_right, <span class="at">escape=</span>F,</span>
<span id="cb87-37"><a href="#cb87-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb87-38"><a href="#cb87-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb87-39"><a href="#cb87-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb87-40"><a href="#cb87-40" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb87-41"><a href="#cb87-41" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb87-42"><a href="#cb87-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options=</span><span class="st">"scale_down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb87-43"><a href="#cb87-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>,</span>
<span id="cb87-44"><a href="#cb87-44" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb87-45"><a href="#cb87-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"Total Attacks per Million Population"</span><span class="ot">=</span><span class="dv">3</span>,<span class="st">"Total Casualties per Million Population"</span><span class="ot">=</span><span class="dv">3</span>), <span class="at">escape=</span>F)</span>
<span id="cb87-46"><a href="#cb87-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-47"><a href="#cb87-47" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_right, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb87-48"><a href="#cb87-48" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_right_table, <span class="at">file=</span><span class="st">"twfe_right.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistLeft~"</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>homeattacks <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim"</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>reg_left_attack_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>reg_left_attack_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>geoattacks <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim"</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>reg_left_attack_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,geoattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>culattacks <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim"</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>reg_left_attack_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homeattacks,culattacks,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>homecasualty <span class="ot">&lt;-</span> <span class="st">"Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>geocasualty <span class="ot">&lt;-</span> <span class="st">"+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>culcasualty <span class="ot">&lt;-</span> <span class="st">"+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>reg_left_casualty_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>reg_left_casualty_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>reg_left_casualty_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,geocasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>reg_left_casualty_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,homecasualty,culcasualty,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>twfe_left <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_left_attack_control, </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>                   reg_left_attack_geo, reg_left_attack_cul,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>                   reg_left_casualty_control,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>                   reg_left_casualty_geo, reg_left_casualty_cul)</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_left)){</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  twfe_left[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_left[[i]])</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_left[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_left[[i]])))]</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  twfe_left[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_left[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_left[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_left[[i]])))]</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>    twfe_left[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_left[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeft"</span>,</span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRight"</span>,</span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslam"</span>,</span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeft"</span>,</span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRight"</span>,</span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>,</span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslam"</span>)</span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a>twfe_left_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_left, <span class="at">escape=</span>F,</span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a>                            <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb100-38"><a href="#cb100-38" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb100-39"><a href="#cb100-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb100-40"><a href="#cb100-40" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb100-41"><a href="#cb100-41" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb100-42"><a href="#cb100-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options=</span><span class="st">"scale_down"</span>) <span class="sc">|&gt;</span></span>
<span id="cb100-43"><a href="#cb100-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>,</span>
<span id="cb100-44"><a href="#cb100-44" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F) <span class="sc">|&gt;</span></span>
<span id="cb100-45"><a href="#cb100-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"Total Attacks per Million Population"</span><span class="ot">=</span><span class="dv">3</span>,<span class="st">"Total Casualties per Million Population"</span><span class="ot">=</span><span class="dv">3</span>), <span class="at">escape=</span>F)</span>
<span id="cb100-46"><a href="#cb100-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-47"><a href="#cb100-47" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_left, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb100-48"><a href="#cb100-48" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_left_table, <span class="at">file=</span><span class="st">"twfe_left.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_total.RData"</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_left.RData"</span>)</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_right.RData"</span>)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">group=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Left"</span>,<span class="st">"Right"</span>,<span class="st">"Islam"</span>),<span class="dv">4</span>),</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">region=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Home"</span>,<span class="dv">3</span>),</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">rep</span>(<span class="st">"Foreign (Neighbour)"</span>,<span class="dv">3</span>)),<span class="dv">2</span>),</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">type=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Attacks"</span>,<span class="dv">6</span>),<span class="fu">rep</span>(<span class="st">"Casualties"</span>,<span class="dv">6</span>)),</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_total=</span><span class="fu">c</span>(<span class="fu">coef</span>(twfe_total[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">coef</span>(twfe_total[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]),</span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">conf_low =</span> <span class="fu">c</span>(<span class="fu">confint</span>(twfe_total[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">1</span>],</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">confint</span>(twfe_total[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">1</span>]),</span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">conf_high =</span> <span class="fu">c</span>(<span class="fu">confint</span>(twfe_total[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>],</span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">confint</span>(twfe_total[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>]),</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_left =</span><span class="fu">c</span>(<span class="fu">coef</span>(twfe_left[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],</span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">coef</span>(twfe_left[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]),</span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_right =</span> <span class="fu">c</span>(<span class="fu">coef</span>(twfe_right[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>],</span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">coef</span>(twfe_right[[<span class="dv">5</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>])</span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>(sd_PopulistRight <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>PopulistRight, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14.97181</code></pre>
</div>
</div>
<pre><code>[1] 14.97181</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>(sd_PopulistLeft <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>PopulistLeft, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 9.65383</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>(sd_HomeIslClaim <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>HomeIslClaim, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 0.1282633</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>(sd_Homencas_right <span class="ot">&lt;-</span> <span class="fu">weighted_sd</span>(data_complete<span class="sc">$</span>Homencas_right, <span class="at">w=</span>data_complete<span class="sc">$</span>weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>[1] 0.530701</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">significant=</span>(conf_low<span class="sc">&gt;</span><span class="dv">0</span><span class="sc">|</span>conf_high<span class="sc">&lt;</span><span class="dv">0</span>))</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>results_long <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="fu">c</span>(<span class="st">"effect_left"</span>,<span class="st">"effect_right"</span>),</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"ideology"</span>, <span class="at">values_to=</span><span class="st">"effect"</span>)</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">significant=</span>(conf_low<span class="sc">&gt;</span><span class="dv">0</span><span class="sc">|</span>conf_high<span class="sc">&lt;</span><span class="dv">0</span>))</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>results_long <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="fu">c</span>(<span class="st">"effect_left"</span>,<span class="st">"effect_right"</span>),</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"ideology"</span>, <span class="at">values_to=</span><span class="st">"effect"</span>)</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>results_long <span class="ot">&lt;-</span> results_long <span class="sc">|&gt;</span></span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="fu">factor</span>(group, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Left"</span>,<span class="st">"Islam"</span>,<span class="st">"Right"</span>)),</span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">factor</span>(region, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Home"</span>,<span class="st">"Foreign (Neighbour)"</span>)),</span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">ideology =</span> <span class="fu">factor</span>(ideology, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"effect_left"</span>,<span class="st">"effect_right"</span>)),</span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">factor</span>(type, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Attacks"</span>,<span class="st">"Casualties"</span>))</span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb110-16"><a href="#cb110-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-17"><a href="#cb110-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(results_long, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>effect, <span class="at">fill=</span>ideology)) <span class="sc">+</span></span>
<span id="cb110-18"><a href="#cb110-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">width=</span><span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb110-19"><a href="#cb110-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>conf_low, <span class="at">ymax=</span>conf_high), <span class="at">width=</span>.<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb110-20"><a href="#cb110-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>effect_total, <span class="at">shape=</span>significant), <span class="at">show.legend=</span>F)<span class="sc">+</span></span>
<span id="cb110-21"><a href="#cb110-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb110-22"><a href="#cb110-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="fu">vars</span>(type), <span class="fu">vars</span>(region),</span>
<span id="cb110-23"><a href="#cb110-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">scales =</span> <span class="st">"free"</span>)<span class="sc">+</span></span>
<span id="cb110-24"><a href="#cb110-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb110-25"><a href="#cb110-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Type of Terrorism"</span>, </span>
<span id="cb110-26"><a href="#cb110-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Effect on Vote Share in Percentage Points"</span>) <span class="sc">+</span></span>
<span id="cb110-27"><a href="#cb110-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Populism"</span>, <span class="at">labels =</span>  <span class="fu">c</span>(<span class="st">"Left"</span>, <span class="st">"Right"</span>))<span class="sc">+</span></span>
<span id="cb110-28"><a href="#cb110-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-aggregate-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-aggregate-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-aggregate-plot-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-aggregate-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Ideology-disaggregated effect of terrorist attacks and Casualties on populist vote shares (estimated in separate regressions).
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_total_combined.RData"</span>)</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_left_combined.RData"</span>)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_right_combined.RData"</span>)</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">group=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Left"</span>,<span class="st">"Right"</span>,<span class="st">"Islam"</span>),<span class="dv">4</span>),</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">region=</span><span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Home"</span>,<span class="dv">6</span>),<span class="fu">rep</span>(<span class="st">"Foreign (Neighbour)"</span>,<span class="dv">6</span>)),</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">type=</span><span class="fu">rep</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"Attacks"</span>,<span class="dv">3</span>),<span class="fu">rep</span>(<span class="st">"Casualties"</span>,<span class="dv">3</span>)),<span class="dv">2</span>),</span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_total=</span><span class="fu">coef</span>(twfe_total_combined[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>],</span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">conf_low =</span> <span class="fu">confint</span>(twfe_total_combined[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,<span class="dv">1</span>],</span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">conf_high =</span> <span class="fu">confint</span>(twfe_total_combined[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>,<span class="dv">2</span>],</span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_left =</span><span class="fu">coef</span>(twfe_left_combined[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>],</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">effect_right =</span> <span class="fu">coef</span>(twfe_right_combined[[<span class="dv">2</span>]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>]</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a>results <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">significant=</span>(conf_low<span class="sc">&gt;</span><span class="dv">0</span><span class="sc">|</span>conf_high<span class="sc">&lt;</span><span class="dv">0</span>))</span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a>results_long <span class="ot">&lt;-</span> results <span class="sc">|&gt;</span></span>
<span id="cb111-15"><a href="#cb111-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="fu">c</span>(<span class="st">"effect_left"</span>,<span class="st">"effect_right"</span>),</span>
<span id="cb111-16"><a href="#cb111-16" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to=</span><span class="st">"ideology"</span>, <span class="at">values_to=</span><span class="st">"effect"</span>)</span>
<span id="cb111-17"><a href="#cb111-17" aria-hidden="true" tabindex="-1"></a>results_long <span class="ot">&lt;-</span> results_long <span class="sc">|&gt;</span></span>
<span id="cb111-18"><a href="#cb111-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb111-19"><a href="#cb111-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="fu">factor</span>(group, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Left"</span>,<span class="st">"Islam"</span>,<span class="st">"Right"</span>)),</span>
<span id="cb111-20"><a href="#cb111-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">region =</span> <span class="fu">factor</span>(region, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Home"</span>,<span class="st">"Foreign (Neighbour)"</span>)),</span>
<span id="cb111-21"><a href="#cb111-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">ideology =</span> <span class="fu">factor</span>(ideology, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"effect_left"</span>,<span class="st">"effect_right"</span>)),</span>
<span id="cb111-22"><a href="#cb111-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">factor</span>(type, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"Attacks"</span>,<span class="st">"Casualties"</span>))</span>
<span id="cb111-23"><a href="#cb111-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb111-24"><a href="#cb111-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-25"><a href="#cb111-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(results_long, <span class="fu">aes</span>(<span class="at">x=</span>group, <span class="at">y=</span>effect, <span class="at">fill=</span>ideology)) <span class="sc">+</span></span>
<span id="cb111-26"><a href="#cb111-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>, <span class="at">width=</span><span class="fl">0.5</span>) <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb111-27"><a href="#cb111-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>conf_low, <span class="at">ymax=</span>conf_high), <span class="at">width=</span>.<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb111-28"><a href="#cb111-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>effect_total, <span class="at">shape=</span>significant), <span class="at">show.legend=</span>F)<span class="sc">+</span></span>
<span id="cb111-29"><a href="#cb111-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">16</span>)) <span class="sc">+</span></span>
<span id="cb111-30"><a href="#cb111-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="fu">vars</span>(type), <span class="fu">vars</span>(region),</span>
<span id="cb111-31"><a href="#cb111-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">scales =</span> <span class="st">"free"</span>)<span class="sc">+</span></span>
<span id="cb111-32"><a href="#cb111-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb111-33"><a href="#cb111-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Type of Terrorism"</span>, </span>
<span id="cb111-34"><a href="#cb111-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span><span class="st">"Effect on Vote Share in Percentage Points"</span>) <span class="sc">+</span></span>
<span id="cb111-35"><a href="#cb111-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">name =</span> <span class="st">"Populism"</span>, <span class="at">labels =</span>  <span class="fu">c</span>(<span class="st">"Left"</span>, <span class="st">"Right"</span>))<span class="sc">+</span></span>
<span id="cb111-36"><a href="#cb111-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-combined-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-combined-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="log_files/figure-html/fig-combined-plot-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-combined-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Ideology-disaggregated effect of terrorist attacks and casualties on populist vote shares (estimated in same regressions).
</figcaption>
</figure>
</div>
</div>
</div>
<div id="tbl-twfe-total" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-total-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: TWFE regression result for Total populist vote share. (Dep Var: Total populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-total-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-total"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-total-1"><a href="#tbl-twfe-total-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_total.RData"</span>)</span>
<span id="tbl-twfe-total-2"><a href="#tbl-twfe-total-2" aria-hidden="true" tabindex="-1"></a>twfe_total_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{lcccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{3}{c}{Total Attacks per Million Population} &amp; \multicolumn{3}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-4} \cmidrule(l{3pt}r{3pt}){5-7}
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-6} \cmidrule(l{3pt}r{3pt}){7-7}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6)\\
\midrule
HomeLeft &amp; \num{4.914}** &amp; \num{4.811}** &amp; \num{5.744} &amp; \num{-0.338}+ &amp; \num{-0.558}** &amp; \num{-0.655}*\\
 &amp; (\num{1.738}) &amp; (\num{1.727}) &amp; (\num{3.741}) &amp; (\num{0.176}) &amp; (\num{0.159}) &amp; (\num{0.238})\\
HomeRight &amp; \num{-7.317}** &amp; \num{-5.179}* &amp; \num{-11.310}** &amp; \num{4.246}* &amp; \num{5.189}** &amp; \num{4.346}+\\
 &amp; (\num{2.154}) &amp; (\num{2.026}) &amp; (\num{3.240}) &amp; (\num{1.939}) &amp; (\num{1.622}) &amp; (\num{2.353})\\
HomeIslam &amp; \num{-7.559} &amp; \num{-23.404}* &amp; \num{-5.858} &amp; \num{0.463} &amp; \num{0.721}** &amp; \num{0.746}*\\
 &amp; (\num{7.546}) &amp; (\num{8.600}) &amp; (\num{9.972}) &amp; (\num{0.283}) &amp; (\num{0.247}) &amp; (\num{0.279})\\
ForeignLeft &amp;  &amp; \num{8.579}** &amp; \num{0.707} &amp;  &amp; \num{-0.225} &amp; \num{-0.486}\\
 &amp;  &amp; (\num{2.546}) &amp; (\num{4.428}) &amp;  &amp; (\num{0.253}) &amp; (\num{0.306})\\
ForeignRight &amp;  &amp; \num{0.412} &amp; \num{-5.149}* &amp;  &amp; \num{0.457}+ &amp; \num{0.099}\\
 &amp;  &amp; (\num{3.661}) &amp; (\num{2.005}) &amp;  &amp; (\num{0.227}) &amp; (\num{0.155})\\
ForeignIslam &amp;  &amp; \num{18.561}* &amp; \num{2.218} &amp;  &amp; \num{0.672}+ &amp; \num{0.502}\\
 &amp;  &amp; (\num{7.202}) &amp; (\num{10.351}) &amp;  &amp; (\num{0.353}) &amp; (\num{0.379})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 6.18** [3,26] &amp; 4.63* [3,26] &amp; 4.46* [3,26] &amp; 1.91 [3,26] &amp; 6.8** [3,26] &amp; 4.28* [3,26]\\
$F_{foreign}$ &amp;  &amp; 6.26** [3,26] &amp; 3.37* [3,26] &amp;  &amp; 3.01* [3,26] &amp; 1.04 [3,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.862} &amp; \num{0.884} &amp; \num{0.861} &amp; \num{0.853} &amp; \num{0.868} &amp; \num{0.849}\\
$R^2$ Within Adj. &amp; \num{0.102} &amp; \num{0.249} &amp; \num{0.097} &amp; \num{0.050} &amp; \num{0.146} &amp; \num{0.023}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{7}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{7}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}}
\end{table}</code></pre>
<div id="tbl-twfe-right" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-right-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: TWFE regression result for right populist vote share. (Dep Var: Right populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-right-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-right"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-right-1"><a href="#tbl-twfe-right-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_right.RData"</span>)</span>
<span id="tbl-twfe-right-2"><a href="#tbl-twfe-right-2" aria-hidden="true" tabindex="-1"></a>twfe_right_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{lcccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{3}{c}{Total Attacks per Million Population} &amp; \multicolumn{3}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-4} \cmidrule(l{3pt}r{3pt}){5-7}
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-6} \cmidrule(l{3pt}r{3pt}){7-7}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6)\\
\midrule
HomeLeft &amp; \num{3.338}* &amp; \num{3.209}* &amp; \num{1.245} &amp; \num{-0.436}* &amp; \num{-0.452}** &amp; \num{-0.635}**\\
 &amp; (\num{1.531}) &amp; (\num{1.507}) &amp; (\num{2.255}) &amp; (\num{0.174}) &amp; (\num{0.141}) &amp; (\num{0.216})\\
HomeRight &amp; \num{-2.121} &amp; \num{-1.370} &amp; \num{-5.334}+ &amp; \num{2.652} &amp; \num{2.794}+ &amp; \num{3.210}+\\
 &amp; (\num{1.988}) &amp; (\num{1.889}) &amp; (\num{2.642}) &amp; (\num{1.607}) &amp; (\num{1.471}) &amp; (\num{1.877})\\
HomeIslam &amp; \num{-10.518} &amp; \num{-18.049}* &amp; \num{-1.177} &amp; \num{0.382} &amp; \num{0.365} &amp; \num{0.542}*\\
 &amp; (\num{7.302}) &amp; (\num{7.561}) &amp; (\num{8.528}) &amp; (\num{0.241}) &amp; (\num{0.230}) &amp; (\num{0.210})\\
ForeignLeft &amp;  &amp; \num{7.255}* &amp; \num{-3.123} &amp;  &amp; \num{0.204} &amp; \num{-0.295}\\
 &amp;  &amp; (\num{3.497}) &amp; (\num{2.763}) &amp;  &amp; (\num{0.183}) &amp; (\num{0.242})\\
ForeignRight &amp;  &amp; \num{2.047} &amp; \num{-3.644}* &amp;  &amp; \num{0.314}* &amp; \num{0.190}\\
 &amp;  &amp; (\num{2.211}) &amp; (\num{1.545}) &amp;  &amp; (\num{0.143}) &amp; (\num{0.137})\\
ForeignIslam &amp;  &amp; \num{6.001} &amp; \num{10.485} &amp;  &amp; \num{-0.114} &amp; \num{0.248}\\
 &amp;  &amp; (\num{5.921}) &amp; (\num{7.839}) &amp;  &amp; (\num{0.233}) &amp; (\num{0.269})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 1.64 [3,26] &amp; 2.13 [3,26] &amp; 1.38 [3,26] &amp; 3.12* [3,26] &amp; 6.53** [3,26] &amp; 3.41* [3,26]\\
$F_{foreign}$ &amp;  &amp; 2.63+ [3,26] &amp; 3.2* [3,26] &amp;  &amp; 2.5+ [3,26] &amp; 1.02 [3,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.889} &amp; \num{0.898} &amp; \num{0.892} &amp; \num{0.891} &amp; \num{0.892} &amp; \num{0.889}\\
$R^2$ Within Adj. &amp; \num{0.030} &amp; \num{0.102} &amp; \num{0.055} &amp; \num{0.044} &amp; \num{0.053} &amp; \num{0.025}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{7}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{7}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}}
\end{table}</code></pre>
<div id="tbl-twfe-left" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-left-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: TWFE regression result for left populist vote share. (Dep Var: Left populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-left-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-left"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-left-1"><a href="#tbl-twfe-left-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_left.RData"</span>)</span>
<span id="tbl-twfe-left-2"><a href="#tbl-twfe-left-2" aria-hidden="true" tabindex="-1"></a>twfe_left_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{lcccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{3}{c}{Total Attacks per Million Population} &amp; \multicolumn{3}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-4} \cmidrule(l{3pt}r{3pt}){5-7}
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-6} \cmidrule(l{3pt}r{3pt}){7-7}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6)\\
\midrule
HomeLeft &amp; \num{1.576}* &amp; \num{1.602}+ &amp; \num{4.499}+ &amp; \num{0.098} &amp; \num{-0.106} &amp; \num{-0.020}\\
 &amp; (\num{0.624}) &amp; (\num{0.793}) &amp; (\num{2.386}) &amp; (\num{0.110}) &amp; (\num{0.162}) &amp; (\num{0.244})\\
HomeRight &amp; \num{-5.195}** &amp; \num{-3.809}* &amp; \num{-5.975}*** &amp; \num{1.595} &amp; \num{2.395}** &amp; \num{1.136}\\
 &amp; (\num{1.598}) &amp; (\num{1.578}) &amp; (\num{1.591}) &amp; (\num{0.956}) &amp; (\num{0.745}) &amp; (\num{1.154})\\
HomeIslam &amp; \num{2.960} &amp; \num{-5.355} &amp; \num{-4.681} &amp; \num{0.081} &amp; \num{0.356}+ &amp; \num{0.205}\\
 &amp; (\num{3.863}) &amp; (\num{4.783}) &amp; (\num{6.704}) &amp; (\num{0.171}) &amp; (\num{0.194}) &amp; (\num{0.264})\\
ForeignLeft &amp;  &amp; \num{1.324} &amp; \num{3.830} &amp;  &amp; \num{-0.429}* &amp; \num{-0.191}\\
 &amp;  &amp; (\num{3.038}) &amp; (\num{3.211}) &amp;  &amp; (\num{0.165}) &amp; (\num{0.294})\\
ForeignRight &amp;  &amp; \num{-1.634} &amp; \num{-1.505} &amp;  &amp; \num{0.143} &amp; \num{-0.090}\\
 &amp;  &amp; (\num{1.930}) &amp; (\num{1.334}) &amp;  &amp; (\num{0.105}) &amp; (\num{0.089})\\
ForeignIslam &amp;  &amp; \num{12.560}* &amp; \num{-8.267} &amp;  &amp; \num{0.786}** &amp; \num{0.255}\\
 &amp;  &amp; (\num{5.352}) &amp; (\num{6.896}) &amp;  &amp; (\num{0.216}) &amp; (\num{0.306})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 5.3** [3,26] &amp; 2.74+ [3,26] &amp; 5.34** [3,26] &amp; 3.73* [3,26] &amp; 7.71*** [3,26] &amp; 1.86 [3,26]\\
$F_{foreign}$ &amp;  &amp; 2.4+ [3,26] &amp; 0.8 [3,26] &amp;  &amp; 4.57* [3,26] &amp; 0.6 [3,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.858} &amp; \num{0.871} &amp; \num{0.858} &amp; \num{0.850} &amp; \num{0.883} &amp; \num{0.845}\\
$R^2$ Within Adj. &amp; \num{0.562} &amp; \num{0.600} &amp; \num{0.562} &amp; \num{0.537} &amp; \num{0.639} &amp; \num{0.522}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{7}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{7}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}}
\end{table}</code></pre>
</section>
<section id="combined-regressions" class="level1">
<h1>Combined Regressions</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistTotal~"</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>home <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim+Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>reg_total_combined_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a>reg_total_combined_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>geo <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>reg_total_combined_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,geo,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>cul <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>reg_total_combined_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,cul,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>twfe_total_combined <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_total_combined_control, </span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>                   reg_total_combined_geo, reg_total_combined_cul)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_total_combined)){</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  twfe_total_combined[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_total_combined[[i]])</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total_combined[[i]])))]</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>  twfe_total_combined[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_total_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_total_combined[[i]])))]</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>    twfe_total_combined[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_total_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb121-16"><a href="#cb121-16" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeftAttacks"</span>,</span>
<span id="cb121-17"><a href="#cb121-17" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRightAttacks"</span>,</span>
<span id="cb121-18"><a href="#cb121-18" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslamAttacks"</span>,</span>
<span id="cb121-19"><a href="#cb121-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeftncas"</span>,</span>
<span id="cb121-20"><a href="#cb121-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRightncas"</span>,</span>
<span id="cb121-21"><a href="#cb121-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslamncas"</span>,</span>
<span id="cb121-22"><a href="#cb121-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb121-23"><a href="#cb121-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb121-24"><a href="#cb121-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb121-25"><a href="#cb121-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb121-26"><a href="#cb121-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb121-27"><a href="#cb121-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>,</span>
<span id="cb121-28"><a href="#cb121-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb121-29"><a href="#cb121-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb121-30"><a href="#cb121-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb121-31"><a href="#cb121-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb121-32"><a href="#cb121-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb121-33"><a href="#cb121-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>)</span>
<span id="cb121-34"><a href="#cb121-34" aria-hidden="true" tabindex="-1"></a>twfe_total_combined_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_total_combined, <span class="at">escape=</span>F,</span>
<span id="cb121-35"><a href="#cb121-35" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb121-36"><a href="#cb121-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb121-37"><a href="#cb121-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb121-38"><a href="#cb121-38" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb121-39"><a href="#cb121-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb121-40"><a href="#cb121-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">"repeat_header"</span>),</span>
<span id="cb121-41"><a href="#cb121-41" aria-hidden="true" tabindex="-1"></a>              <span class="at">repeat_header_continued =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">textit{(Continued on Next Page...)}"</span>) <span class="sc">|&gt;</span></span>
<span id="cb121-42"><a href="#cb121-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F)</span>
<span id="cb121-43"><a href="#cb121-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-44"><a href="#cb121-44" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_total_combined, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb121-45"><a href="#cb121-45" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_total_combined_table, <span class="at">file=</span><span class="st">"twfe_total_combined.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistRight~"</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>home <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim+Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>reg_right_combined_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>reg_right_combined_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>geo <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>reg_right_combined_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,geo,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>cul <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>reg_right_combined_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,cul,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>twfe_right_combined <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_right_combined_control, </span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>                   reg_right_combined_geo, reg_right_combined_cul)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_right_combined)){</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  twfe_right_combined[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_right_combined[[i]])</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_right_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_right_combined[[i]])))]</span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  twfe_right_combined[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_right_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_right_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_right_combined[[i]])))]</span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>    twfe_right_combined[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_right_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb128-15"><a href="#cb128-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb128-16"><a href="#cb128-16" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeftAttacks"</span>,</span>
<span id="cb128-17"><a href="#cb128-17" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRightAttacks"</span>,</span>
<span id="cb128-18"><a href="#cb128-18" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslamAttacks"</span>,</span>
<span id="cb128-19"><a href="#cb128-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeftncas"</span>,</span>
<span id="cb128-20"><a href="#cb128-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRightncas"</span>,</span>
<span id="cb128-21"><a href="#cb128-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslamncas"</span>,</span>
<span id="cb128-22"><a href="#cb128-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb128-23"><a href="#cb128-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb128-24"><a href="#cb128-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb128-25"><a href="#cb128-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb128-26"><a href="#cb128-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb128-27"><a href="#cb128-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>,</span>
<span id="cb128-28"><a href="#cb128-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb128-29"><a href="#cb128-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb128-30"><a href="#cb128-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb128-31"><a href="#cb128-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb128-32"><a href="#cb128-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb128-33"><a href="#cb128-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>)</span>
<span id="cb128-34"><a href="#cb128-34" aria-hidden="true" tabindex="-1"></a>twfe_right_combined_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_right_combined, <span class="at">escape=</span>F,</span>
<span id="cb128-35"><a href="#cb128-35" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb128-36"><a href="#cb128-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb128-37"><a href="#cb128-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb128-38"><a href="#cb128-38" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb128-39"><a href="#cb128-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb128-40"><a href="#cb128-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">"repeat_header"</span>),</span>
<span id="cb128-41"><a href="#cb128-41" aria-hidden="true" tabindex="-1"></a>              <span class="at">repeat_header_continued =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">textit{(Continued on Next Page...)}"</span>) <span class="sc">|&gt;</span></span>
<span id="cb128-42"><a href="#cb128-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F)</span>
<span id="cb128-43"><a href="#cb128-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-44"><a href="#cb128-44" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_right_combined, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb128-45"><a href="#cb128-45" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_right_combined_table, <span class="at">file=</span><span class="st">"twfe_right_combined.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>outcome <span class="ot">&lt;-</span> <span class="st">"PopulistLeft~"</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>home <span class="ot">&lt;-</span> <span class="st">"Homeleftproxy+Homerightproxy+HomeIslClaim+Homencas_left+Homencas_right+Homencas_IslCl"</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>fe <span class="ot">&lt;-</span> <span class="st">"|Country+Year"</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>reg_left_combined_none <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>controls <span class="ot">&lt;-</span> <span class="st">"+GrowthY1+GrowthY2+GrowthY3+UnemploymentY1+UnemploymentY2+UnemploymentY3+</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="st">Export_penetrationY1+Export_penetrationY2+Export_penetrationY3+</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a><span class="st">Import_penetrationY1+Import_penetrationY2+Import_penetrationY3+</span></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="st">Immigration_percentY1+Immigration_percentY2+Immigration_percentY3+</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="st">Emigration_percentY1+Emigration_percentY2+Emigration_percentY3"</span></span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>reg_left_combined_control <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>geo <span class="ot">&lt;-</span> <span class="st">"+geoleftproxy+georightproxy+geoIslClaim+geoncas_left+geoncas_right+geoncas_IslCl"</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>reg_left_combined_geo <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,geo,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>cul <span class="ot">&lt;-</span> <span class="st">"+culleftproxy+culrightproxy+culIslClaim+culncas_left+culncas_right+culncas_IslCl"</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>reg_left_combined_cul <span class="ot">&lt;-</span> <span class="fu">feols</span>(<span class="fu">as.formula</span>(<span class="fu">paste0</span>(outcome,home,cul,controls,fe)), <span class="at">weights=</span>data<span class="sc">$</span>weight,data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>NOTE: 204 observations removed because of NA values (RHS: 204).</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>twfe_left_combined <span class="ot">&lt;-</span> <span class="fu">list</span>(reg_left_combined_control, </span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>                   reg_left_combined_geo, reg_left_combined_cul)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(twfe_left_combined)){</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>  twfe_left_combined[[i]]<span class="sc">$</span>df.residual <span class="ot">&lt;-</span> parameters<span class="sc">::</span><span class="fu">degrees_of_freedom</span>(twfe_left_combined[[i]])</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>  home <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_left_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"Home"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_left_combined[[i]])))]</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>  twfe_left_combined[[i]]<span class="sc">$</span>homeF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_left_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="fu">paste0</span>(home,<span class="st">"=0"</span>)))</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">character</span>()</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>  foreign <span class="ot">&lt;-</span> <span class="fu">names</span>(<span class="fu">coef</span>(twfe_left_combined[[i]]))[<span class="fu">grepl</span>(<span class="st">"geo|cul"</span>,<span class="fu">names</span>(<span class="fu">coef</span>(twfe_left_combined[[i]])))]</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(foreign)<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>    twfe_left_combined[[i]]<span class="sc">$</span>foreignF <span class="ot">&lt;-</span> <span class="fu">lht</span>(twfe_left_combined[[i]],<span class="at">test=</span><span class="st">'F'</span>,</span>
<span id="cb135-12"><a href="#cb135-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="fu">paste0</span>(foreign,<span class="st">"=0"</span>))</span>
<span id="cb135-13"><a href="#cb135-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb135-14"><a href="#cb135-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb135-15"><a href="#cb135-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb135-16"><a href="#cb135-16" aria-hidden="true" tabindex="-1"></a>coef_map <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Homeleftproxy"</span><span class="ot">=</span><span class="st">"HomeLeftAttacks"</span>,</span>
<span id="cb135-17"><a href="#cb135-17" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homerightproxy"</span><span class="ot">=</span><span class="st">"HomeRightAttacks"</span>,</span>
<span id="cb135-18"><a href="#cb135-18" aria-hidden="true" tabindex="-1"></a>              <span class="st">"HomeIslClaim"</span><span class="ot">=</span><span class="st">"HomeIslamAttacks"</span>,</span>
<span id="cb135-19"><a href="#cb135-19" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_left"</span><span class="ot">=</span><span class="st">"HomeLeftncas"</span>,</span>
<span id="cb135-20"><a href="#cb135-20" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_right"</span><span class="ot">=</span><span class="st">"HomeRightncas"</span>,</span>
<span id="cb135-21"><a href="#cb135-21" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Homencas_IslCl"</span><span class="ot">=</span><span class="st">"HomeIslamncas"</span>,</span>
<span id="cb135-22"><a href="#cb135-22" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb135-23"><a href="#cb135-23" aria-hidden="true" tabindex="-1"></a>              <span class="st">"georightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb135-24"><a href="#cb135-24" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb135-25"><a href="#cb135-25" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb135-26"><a href="#cb135-26" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb135-27"><a href="#cb135-27" aria-hidden="true" tabindex="-1"></a>              <span class="st">"geoncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>,</span>
<span id="cb135-28"><a href="#cb135-28" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culleftproxy"</span><span class="ot">=</span><span class="st">"ForeignLeftAttacks"</span>,</span>
<span id="cb135-29"><a href="#cb135-29" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culrightproxy"</span><span class="ot">=</span><span class="st">"ForeignRightAttacks"</span>,</span>
<span id="cb135-30"><a href="#cb135-30" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culIslClaim"</span><span class="ot">=</span><span class="st">"ForeignIslamAttacks"</span>,</span>
<span id="cb135-31"><a href="#cb135-31" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_left"</span><span class="ot">=</span><span class="st">"ForeignLeftncas"</span>,</span>
<span id="cb135-32"><a href="#cb135-32" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_right"</span><span class="ot">=</span><span class="st">"ForeignRightncas"</span>,</span>
<span id="cb135-33"><a href="#cb135-33" aria-hidden="true" tabindex="-1"></a>              <span class="st">"culncas_IslCl"</span><span class="ot">=</span><span class="st">"ForeignIslamncas"</span>)</span>
<span id="cb135-34"><a href="#cb135-34" aria-hidden="true" tabindex="-1"></a>twfe_left_combined_table <span class="ot">&lt;-</span> <span class="fu">msummary</span>(twfe_left_combined, <span class="at">escape=</span>F,</span>
<span id="cb135-35"><a href="#cb135-35" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">output=</span><span class="st">"latex"</span>,</span>
<span id="cb135-36"><a href="#cb135-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">notes =</span> <span class="st">"Note: Standard errors are clustered at the Country level ($N=33$)."</span>,</span>
<span id="cb135-37"><a href="#cb135-37" aria-hidden="true" tabindex="-1"></a>                             <span class="at">gof_map =</span> gof_map,</span>
<span id="cb135-38"><a href="#cb135-38" aria-hidden="true" tabindex="-1"></a>                             <span class="at">coef_map=</span>coef_map, </span>
<span id="cb135-39"><a href="#cb135-39" aria-hidden="true" tabindex="-1"></a>                             <span class="at">stars=</span>T) <span class="sc">|&gt;</span></span>
<span id="cb135-40"><a href="#cb135-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">"repeat_header"</span>),</span>
<span id="cb135-41"><a href="#cb135-41" aria-hidden="true" tabindex="-1"></a>              <span class="at">repeat_header_continued =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">textit{(Continued on Next Page...)}"</span>) <span class="sc">|&gt;</span></span>
<span id="cb135-42"><a href="#cb135-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=0$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{geo}$"</span><span class="ot">=</span><span class="dv">1</span>,<span class="st">"$c=c^{cul}$"</span><span class="ot">=</span><span class="dv">1</span>), <span class="at">escape=</span>F)</span>
<span id="cb135-43"><a href="#cb135-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-44"><a href="#cb135-44" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(twfe_left_combined, gof_map, coef_map, glance_custom.fixest, </span>
<span id="cb135-45"><a href="#cb135-45" aria-hidden="true" tabindex="-1"></a>     gen_stars, twfe_left_combined_table, <span class="at">file=</span><span class="st">"twfe_left_combined.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tbl-twfe-total-combined" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-total-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Combined TWFE regression result for Total populist vote share. (Dep Var: Total populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-total-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-total-combined"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-total-combined-1"><a href="#tbl-twfe-total-combined-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_total_combined.RData"</span>)</span>
<span id="tbl-twfe-total-combined-2"><a href="#tbl-twfe-total-combined-2" aria-hidden="true" tabindex="-1"></a>twfe_total_combined_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\resizebox{\linewidth}{!}{
\begin{tabular}[t]{lcccccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{3}{c}{Total Attacks per Million Population} &amp; \multicolumn{3}{c}{Total Casualties per Million Population} \\
\cmidrule(l{3pt}r{3pt}){2-4} \cmidrule(l{3pt}r{3pt}){5-7}
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4} \cmidrule(l{3pt}r{3pt}){5-5} \cmidrule(l{3pt}r{3pt}){6-6} \cmidrule(l{3pt}r{3pt}){7-7}
  &amp; (1) &amp; (2) &amp; (3) &amp; (4) &amp; (5) &amp; (6)\\
\midrule
HomeLeft &amp; \num{1.576}* &amp; \num{1.602}+ &amp; \num{4.499}+ &amp; \num{0.098} &amp; \num{-0.106} &amp; \num{-0.020}\\
 &amp; (\num{0.624}) &amp; (\num{0.793}) &amp; (\num{2.386}) &amp; (\num{0.110}) &amp; (\num{0.162}) &amp; (\num{0.244})\\
HomeRight &amp; \num{-5.195}** &amp; \num{-3.809}* &amp; \num{-5.975}*** &amp; \num{1.595} &amp; \num{2.395}** &amp; \num{1.136}\\
 &amp; (\num{1.598}) &amp; (\num{1.578}) &amp; (\num{1.591}) &amp; (\num{0.956}) &amp; (\num{0.745}) &amp; (\num{1.154})\\
HomeIslam &amp; \num{2.960} &amp; \num{-5.355} &amp; \num{-4.681} &amp; \num{0.081} &amp; \num{0.356}+ &amp; \num{0.205}\\
 &amp; (\num{3.863}) &amp; (\num{4.783}) &amp; (\num{6.704}) &amp; (\num{0.171}) &amp; (\num{0.194}) &amp; (\num{0.264})\\
ForeignLeft &amp;  &amp; \num{1.324} &amp; \num{3.830} &amp;  &amp; \num{-0.429}* &amp; \num{-0.191}\\
 &amp;  &amp; (\num{3.038}) &amp; (\num{3.211}) &amp;  &amp; (\num{0.165}) &amp; (\num{0.294})\\
ForeignRight &amp;  &amp; \num{-1.634} &amp; \num{-1.505} &amp;  &amp; \num{0.143} &amp; \num{-0.090}\\
 &amp;  &amp; (\num{1.930}) &amp; (\num{1.334}) &amp;  &amp; (\num{0.105}) &amp; (\num{0.089})\\
ForeignIslam &amp;  &amp; \num{12.560}* &amp; \num{-8.267} &amp;  &amp; \num{0.786}** &amp; \num{0.255}\\
 &amp;  &amp; (\num{5.352}) &amp; (\num{6.896}) &amp;  &amp; (\num{0.216}) &amp; (\num{0.306})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 5.3** [3,26] &amp; 2.74+ [3,26] &amp; 5.34** [3,26] &amp; 3.73* [3,26] &amp; 7.71*** [3,26] &amp; 1.86 [3,26]\\
$F_{foreign}$ &amp;  &amp; 2.4+ [3,26] &amp; 0.8 [3,26] &amp;  &amp; 4.57* [3,26] &amp; 0.6 [3,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.858} &amp; \num{0.871} &amp; \num{0.858} &amp; \num{0.850} &amp; \num{0.883} &amp; \num{0.845}\\
$R^2$ Within Adj. &amp; \num{0.562} &amp; \num{0.600} &amp; \num{0.562} &amp; \num{0.537} &amp; \num{0.639} &amp; \num{0.522}\\
Country FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{7}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{7}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}}
\end{table}
&gt; #| label: tbl-twfe-total-combined
&gt; #| tbl-cap: "Combined TWFE regression result for Total populist vote share. (Dep Var: Total populist vote share)"
&gt; load("twfe_total_combined.RData")
&gt; twfe_total_combined_table
\begin{table}
\centering
\begin{tabular}[t]{lccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4}
  &amp; (1) &amp; (2) &amp; (3)\\
\midrule
HomeLeftAttacks &amp; \num{4.621}* &amp; \num{3.323}+ &amp; \num{6.525}\\
 &amp; (\num{2.141}) &amp; (\num{1.804}) &amp; (\num{5.188})\\
HomeRightAttacks &amp; \num{-8.222}*** &amp; \num{-3.301} &amp; \num{-12.606}**\\
 &amp; (\num{2.058}) &amp; (\num{2.136}) &amp; (\num{3.415})\\
HomeIslamAttacks &amp; \num{-7.380} &amp; \num{-15.522} &amp; \num{-8.927}\\
 &amp; (\num{9.610}) &amp; (\num{10.274}) &amp; (\num{11.092})\\
HomeLeftncas &amp; \num{-0.141} &amp; \num{-0.804}** &amp; \num{-0.161}\\
 &amp; (\num{0.282}) &amp; (\num{0.282}) &amp; (\num{0.309})\\
HomeRightncas &amp; \num{4.494}** &amp; \num{4.069}* &amp; \num{4.858}*\\
 &amp; (\num{1.563}) &amp; (\num{1.778}) &amp; (\num{1.817})\\
HomeIslamncas &amp; \num{0.122} &amp; \num{1.011}** &amp; \num{0.012}\\
 &amp; (\num{0.350}) &amp; (\num{0.285}) &amp; (\num{0.363})\\
ForeignLeftAttacks &amp;  &amp; \num{9.184}** &amp; \num{1.413}\\
 &amp;  &amp; (\num{3.201}) &amp; (\num{5.964})\\
ForeignRightAttacks &amp;  &amp; \num{1.882} &amp; \num{-5.257}*\\
 &amp;  &amp; (\num{2.682}) &amp; (\num{2.397})\\
ForeignIslamAttacks &amp;  &amp; \num{24.321}* &amp; \num{0.877}\\
 &amp;  &amp; (\num{8.834}) &amp; (\num{15.392})\\
ForeignLeftncas &amp;  &amp; \num{-0.647}* &amp; \num{-0.282}\\
 &amp;  &amp; (\num{0.271}) &amp; (\num{0.274})\\
ForeignRightncas &amp;  &amp; \num{0.385}* &amp; \num{0.115}\\
 &amp;  &amp; (\num{0.165}) &amp; (\num{0.167})\\
ForeignIslamncas &amp;  &amp; \num{0.618}* &amp; \num{0.157}\\
 &amp;  &amp; (\num{0.299}) &amp; (\num{0.317})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 10.73*** [6,26] &amp; 9.56*** [6,26] &amp; 5.98*** [6,26]\\
$F_{foreign}$ &amp;  &amp; 4.25** [6,26] &amp; 1.46 [6,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.869} &amp; \num{0.892} &amp; \num{0.864}\\
$R^2$ Within Adj. &amp; \num{0.149} &amp; \num{0.299} &amp; \num{0.116}\\
Country FE &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{4}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{4}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}
\end{table}</code></pre>
<div id="tbl-twfe-right-combined" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-right-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Combined TWFE regression result for Right populist vote share. (Dep Var: Right populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-right-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-right-combined"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-right-combined-1"><a href="#tbl-twfe-right-combined-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_right_combined.RData"</span>)</span>
<span id="tbl-twfe-right-combined-2"><a href="#tbl-twfe-right-combined-2" aria-hidden="true" tabindex="-1"></a>twfe_right_combined_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\begin{tabular}[t]{lccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4}
  &amp; (1) &amp; (2) &amp; (3)\\
\midrule
HomeLeftAttacks &amp; \num{4.101}+ &amp; \num{3.147} &amp; \num{1.997}\\
 &amp; (\num{2.010}) &amp; (\num{1.923}) &amp; (\num{3.372})\\
HomeRightAttacks &amp; \num{-2.888} &amp; \num{-0.930} &amp; \num{-6.555}*\\
 &amp; (\num{1.742}) &amp; (\num{1.975}) &amp; (\num{2.754})\\
HomeIslamAttacks &amp; \num{-0.635} &amp; \num{-4.640} &amp; \num{1.516}\\
 &amp; (\num{8.218}) &amp; (\num{8.868}) &amp; (\num{8.683})\\
HomeLeftncas &amp; \num{-0.414} &amp; \num{-0.685}+ &amp; \num{-0.377}\\
 &amp; (\num{0.288}) &amp; (\num{0.361}) &amp; (\num{0.310})\\
HomeRightncas &amp; \num{2.366} &amp; \num{2.203} &amp; \num{2.658}\\
 &amp; (\num{1.488}) &amp; (\num{1.690}) &amp; (\num{1.654})\\
HomeIslamncas &amp; \num{0.220} &amp; \num{0.584} &amp; \num{0.073}\\
 &amp; (\num{0.339}) &amp; (\num{0.380}) &amp; (\num{0.336})\\
ForeignLeftAttacks &amp;  &amp; \num{8.689}* &amp; \num{-3.710}\\
 &amp;  &amp; (\num{3.438}) &amp; (\num{3.634})\\
ForeignRightAttacks &amp;  &amp; \num{2.750} &amp; \num{-3.844}+\\
 &amp;  &amp; (\num{1.743}) &amp; (\num{1.887})\\
ForeignIslamAttacks &amp;  &amp; \num{1.508} &amp; \num{11.595}\\
 &amp;  &amp; (\num{9.129}) &amp; (\num{10.409})\\
ForeignLeftncas &amp;  &amp; \num{0.101} &amp; \num{-0.272}\\
 &amp;  &amp; (\num{0.244}) &amp; (\num{0.251})\\
ForeignRightncas &amp;  &amp; \num{0.329}+ &amp; \num{0.065}\\
 &amp;  &amp; (\num{0.160}) &amp; (\num{0.134})\\
ForeignIslamncas &amp;  &amp; \num{-0.128} &amp; \num{-0.079}\\
 &amp;  &amp; (\num{0.224}) &amp; (\num{0.295})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 3.6** [6,26] &amp; 3.73** [6,26] &amp; 3.21* [6,26]\\
$F_{foreign}$ &amp;  &amp; 2.14+ [6,26] &amp; 1.42 [6,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.895} &amp; \num{0.900} &amp; \num{0.896}\\
$R^2$ Within Adj. &amp; \num{0.080} &amp; \num{0.126} &amp; \num{0.091}\\
Country FE &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{4}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{4}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}
\end{table}</code></pre>
<div id="tbl-twfe-left-combined" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twfe-left-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Combined TWFE regression result for Left populist vote share. (Dep Var: Left populist vote share)
</figcaption>
<div aria-describedby="tbl-twfe-left-combined-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="sourceCode cell-code anchored" id="tbl-twfe-left-combined"><pre class="sourceCode r cell code-with-copy"><code class="sourceCode r"><span id="tbl-twfe-left-combined-1"><a href="#tbl-twfe-left-combined-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"twfe_left_combined.RData"</span>)</span>
<span id="tbl-twfe-left-combined-2"><a href="#tbl-twfe-left-combined-2" aria-hidden="true" tabindex="-1"></a>twfe_left_combined_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</figure>
</div>
<pre><code>\begin{table}
\centering
\begin{tabular}[t]{lccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4}
  &amp; (1) &amp; (2) &amp; (3)\\
\midrule
HomeLeftAttacks &amp; \num{4.101}+ &amp; \num{3.147} &amp; \num{1.997}\\
 &amp; (\num{2.010}) &amp; (\num{1.923}) &amp; (\num{3.372})\\
HomeRightAttacks &amp; \num{-2.888} &amp; \num{-0.930} &amp; \num{-6.555}*\\
 &amp; (\num{1.742}) &amp; (\num{1.975}) &amp; (\num{2.754})\\
HomeIslamAttacks &amp; \num{-0.635} &amp; \num{-4.640} &amp; \num{1.516}\\
 &amp; (\num{8.218}) &amp; (\num{8.868}) &amp; (\num{8.683})\\
HomeLeftncas &amp; \num{-0.414} &amp; \num{-0.685}+ &amp; \num{-0.377}\\
 &amp; (\num{0.288}) &amp; (\num{0.361}) &amp; (\num{0.310})\\
HomeRightncas &amp; \num{2.366} &amp; \num{2.203} &amp; \num{2.658}\\
 &amp; (\num{1.488}) &amp; (\num{1.690}) &amp; (\num{1.654})\\
HomeIslamncas &amp; \num{0.220} &amp; \num{0.584} &amp; \num{0.073}\\
 &amp; (\num{0.339}) &amp; (\num{0.380}) &amp; (\num{0.336})\\
ForeignLeftAttacks &amp;  &amp; \num{8.689}* &amp; \num{-3.710}\\
 &amp;  &amp; (\num{3.438}) &amp; (\num{3.634})\\
ForeignRightAttacks &amp;  &amp; \num{2.750} &amp; \num{-3.844}+\\
 &amp;  &amp; (\num{1.743}) &amp; (\num{1.887})\\
ForeignIslamAttacks &amp;  &amp; \num{1.508} &amp; \num{11.595}\\
 &amp;  &amp; (\num{9.129}) &amp; (\num{10.409})\\
ForeignLeftncas &amp;  &amp; \num{0.101} &amp; \num{-0.272}\\
 &amp;  &amp; (\num{0.244}) &amp; (\num{0.251})\\
ForeignRightncas &amp;  &amp; \num{0.329}+ &amp; \num{0.065}\\
 &amp;  &amp; (\num{0.160}) &amp; (\num{0.134})\\
ForeignIslamncas &amp;  &amp; \num{-0.128} &amp; \num{-0.079}\\
 &amp;  &amp; (\num{0.224}) &amp; (\num{0.295})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 3.6** [6,26] &amp; 3.73** [6,26] &amp; 3.21* [6,26]\\
$F_{foreign}$ &amp;  &amp; 2.14+ [6,26] &amp; 1.42 [6,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.895} &amp; \num{0.900} &amp; \num{0.896}\\
$R^2$ Within Adj. &amp; \num{0.080} &amp; \num{0.126} &amp; \num{0.091}\\
Country FE &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{4}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{4}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}
\end{table}
&gt; #| label: tbl-twfe-left-combined
&gt; #| tbl-cap: "Combined TWFE regression result for Left populist vote share. (Dep Var: Left populist vote share)"
&gt; load("twfe_left_combined.RData")
&gt; twfe_left_combined_table
&gt; twfe_left_combined_table
\begin{table}
\centering
\begin{tabular}[t]{lccc}
\toprule
\multicolumn{1}{c}{ } &amp; \multicolumn{1}{c}{$c=0$} &amp; \multicolumn{1}{c}{$c=c^{geo}$} &amp; \multicolumn{1}{c}{$c=c^{cul}$} \\
\cmidrule(l{3pt}r{3pt}){2-2} \cmidrule(l{3pt}r{3pt}){3-3} \cmidrule(l{3pt}r{3pt}){4-4}
  &amp; (1) &amp; (2) &amp; (3)\\
\midrule
HomeLeftAttacks &amp; \num{0.520} &amp; \num{0.176} &amp; \num{4.528}\\
 &amp; (\num{0.669}) &amp; (\num{0.733}) &amp; (\num{2.666})\\
HomeRightAttacks &amp; \num{-5.335}*** &amp; \num{-2.371}+ &amp; \num{-6.052}***\\
 &amp; (\num{1.386}) &amp; (\num{1.192}) &amp; (\num{1.539})\\
HomeIslamAttacks &amp; \num{-6.746} &amp; \num{-10.882} &amp; \num{-10.443}\\
 &amp; (\num{5.765}) &amp; (\num{7.304}) &amp; (\num{8.851})\\
HomeLeftncas &amp; \num{0.274} &amp; \num{-0.119} &amp; \num{0.216}\\
 &amp; (\num{0.177}) &amp; (\num{0.318}) &amp; (\num{0.325})\\
HomeRightncas &amp; \num{2.128}** &amp; \num{1.866}* &amp; \num{2.199}*\\
 &amp; (\num{0.632}) &amp; (\num{0.683}) &amp; (\num{0.880})\\
HomeIslamncas &amp; \num{-0.097} &amp; \num{0.427} &amp; \num{-0.061}\\
 &amp; (\num{0.209}) &amp; (\num{0.331}) &amp; (\num{0.332})\\
ForeignLeftAttacks &amp;  &amp; \num{0.495} &amp; \num{5.123}\\
 &amp;  &amp; (\num{2.155}) &amp; (\num{3.721})\\
ForeignRightAttacks &amp;  &amp; \num{-0.867} &amp; \num{-1.413}\\
 &amp;  &amp; (\num{1.843}) &amp; (\num{1.404})\\
ForeignIslamAttacks &amp;  &amp; \num{22.813}*** &amp; \num{-10.719}\\
 &amp;  &amp; (\num{5.804}) &amp; (\num{7.496})\\
ForeignLeftncas &amp;  &amp; \num{-0.748}** &amp; \num{-0.011}\\
 &amp;  &amp; (\num{0.208}) &amp; (\num{0.282})\\
ForeignRightncas &amp;  &amp; \num{0.056} &amp; \num{0.050}\\
 &amp;  &amp; (\num{0.077}) &amp; (\num{0.122})\\
ForeignIslamncas &amp;  &amp; \num{0.745}*** &amp; \num{0.236}\\
 &amp;  &amp; (\num{0.198}) &amp; (\num{0.317})\\
\midrule
Controls &amp; Yes &amp; Yes &amp; Yes\\
Weighted &amp; Yes &amp; Yes &amp; Yes\\
$F_{home}$ &amp; 11.62*** [6,26] &amp; 9.32*** [6,26] &amp; 5.38** [6,26]\\
$F_{foreign}$ &amp;  &amp; 7.07*** [6,26] &amp; 0.75 [6,26]\\
Obs &amp; \num{125} &amp; \num{125} &amp; \num{125}\\
$R^2$ Adj. &amp; \num{0.864} &amp; \num{0.907} &amp; \num{0.857}\\
$R^2$ Within Adj. &amp; \num{0.580} &amp; \num{0.712} &amp; \num{0.557}\\
Country FE &amp; Yes &amp; Yes &amp; Yes\\
Year FE &amp; Yes &amp; Yes &amp; Yes\\
\bottomrule
\multicolumn{4}{l}{\rule{0pt}{1em}+ p $&lt;$ 0.1, * p $&lt;$ 0.05, ** p $&lt;$ 0.01, *** p $&lt;$ 0.001}\\
\multicolumn{4}{l}{\rule{0pt}{1em}Note: Standard errors are clustered at the Country level ($N=33$).}\\
\end{tabular}
\end{table}</code></pre>
</section>
<section id="end" class="level1">
<h1>End</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>duration <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"End time:"</span>, <span class="fu">format</span>(end_time, <span class="st">"%d/%m/%Y %H:%M:%S"</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>End time: 06/05/2024 13:31:29 </code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Duration:"</span>, duration, <span class="st">"minutes</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>Duration: 29.2068 minutes</code></pre>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>